"use strict";(self.webpackChunkformula_project_app=self.webpackChunkformula_project_app||[]).push([[189],{5189:(e,o,r)=>{r.r(o),r.d(o,{default:()=>A});var t=r(89379),s=r(65043),n=r(25419),l=r(91244),i=r(16128),a=r(55895),c=r(53969),d=r(83759),g=r(26529),x=r(33539),p=r(94799),h=r(82327),b=r(71101),f=r(27365),u=r(63898),m=r(90160),j=r(70579);const A=e=>{let{tasks:o=[],onTaskUpdate:r,teamMembers:A=[],projects:k=[]}=e;const C=(0,s.useMemo)((()=>{const e={};return[{id:"pending",title:"TO DO",color:"#f39c12",bgColor:"#fef9e7"},{id:"in-progress",title:"IN PROGRESS",color:"#3498db",bgColor:"#ebf5fb"},{id:"completed",title:"DONE",color:"#27ae60",bgColor:"#eafaf1"}].forEach((o=>{e[o.id]=(0,t.A)((0,t.A)({},o),{},{tasks:[]})})),o.forEach((o=>{let r=o.status||"pending";"in_progress"===r&&(r="in-progress"),e[r]?e[r].tasks.push(o):e.pending.tasks.push(o)})),e}),[o]),v={low:{label:"Low",color:"#27ae60",bgColor:"#eafaf1",icon:(0,j.jsx)(h.A,{fontSize:"small"})},medium:{label:"Medium",color:"#f39c12",bgColor:"#fef9e7",icon:(0,j.jsx)(h.A,{fontSize:"small"})},high:{label:"High",color:"#e67e22",bgColor:"#fef5e7",icon:(0,j.jsx)(b.A,{fontSize:"small"})},urgent:{label:"Urgent",color:"#e74c3c",bgColor:"#fdf2f2",icon:(0,j.jsx)(f.A,{fontSize:"small"})}},w=e=>{const o=k.find((o=>o.id===e));return o?o.name:"Unknown Project"},S=e=>{let{task:o,index:r}=e;const s=(p=o.assignedTo,A.find((e=>e.id===p)));var p;const h=v[o.priority]||v.medium,b=(e=>{if(!e)return null;const o=new Date(e),r=o-new Date,t=Math.ceil(r/864e5);return t<0?{text:"Overdue ".concat(Math.abs(t),"d"),color:"#e74c3c",urgent:!0}:0===t?{text:"Due today",color:"#f39c12",urgent:!0}:1===t?{text:"Due tomorrow",color:"#e67e22",urgent:!1}:t<=7?{text:"".concat(t," days left"),color:"#3498db",urgent:!1}:{text:o.toLocaleDateString(),color:"#7f8c8d",urgent:!1}})(o.dueDate);return(0,j.jsx)(n.sx,{draggableId:o.id,index:r,children:(e,r)=>(0,j.jsx)(l.A,(0,t.A)((0,t.A)((0,t.A)({ref:e.innerRef},e.draggableProps),e.dragHandleProps),{},{sx:{mb:1.5,cursor:"pointer",backgroundColor:"white",border:"1px solid #E9ECEF",borderRadius:2,transition:"all 0.2s ease-in-out",transform:r.isDragging?"rotate(5deg)":"none",boxShadow:r.isDragging?"0 8px 24px rgba(0,0,0,0.15)":"0 1px 3px rgba(0,0,0,0.1)","&:hover":{boxShadow:"0 4px 12px rgba(0,0,0,0.15)",transform:"translateY(-1px)"}},children:(0,j.jsxs)(i.A,{sx:{p:2,"&:last-child":{pb:2}},children:[(0,j.jsx)(a.A,{variant:"body2",sx:{fontWeight:500,mb:1,color:"#2C3E50",lineHeight:1.4},children:o.name}),(0,j.jsx)(c.A,{sx:{display:"flex",alignItems:"center",mb:1.5},children:(0,j.jsx)(d.A,{icon:h.icon,label:h.label,size:"small",sx:{backgroundColor:h.bgColor,color:h.color,fontWeight:500,height:20,fontSize:"0.7rem","& .MuiChip-icon":{color:h.color,fontSize:"12px"}}})}),(0,j.jsx)(a.A,{variant:"caption",sx:{color:"#7f8c8d",display:"block",mb:1},children:w(o.projectId)}),b&&(0,j.jsxs)(c.A,{sx:{display:"flex",alignItems:"center",mb:1.5},children:[(0,j.jsx)(u.A,{sx:{fontSize:12,color:b.color,mr:.5}}),(0,j.jsx)(a.A,{variant:"caption",sx:{color:b.color,fontWeight:b.urgent?600:400},children:b.text})]}),(0,j.jsxs)(c.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mt:1},children:[(0,j.jsx)(c.A,{children:s?(0,j.jsx)(g.A,{title:s.fullName,children:(0,j.jsx)(x.A,{sx:{width:24,height:24,fontSize:"0.7rem",backgroundColor:s.roleColor||"#3498db"},children:s.initials})}):(0,j.jsx)(x.A,{sx:{width:24,height:24,backgroundColor:"#bdc3c7"},children:(0,j.jsx)(m.A,{sx:{fontSize:14}})})}),void 0!==o.progress&&o.progress>0&&(0,j.jsx)(d.A,{label:"".concat(o.progress,"%"),size:"small",variant:"outlined",sx:{height:20,fontSize:"0.7rem",borderColor:100===o.progress?"#27ae60":"#3498db",color:100===o.progress?"#27ae60":"#3498db"}})]})]})}))})};return(0,j.jsx)(c.A,{sx:{p:3,height:"calc(100vh - 200px)",overflow:"hidden"},children:(0,j.jsx)(n.JY,{onDragEnd:e=>{if(!e.destination)return;const{source:t,destination:s,draggableId:n}=e;if(t.droppableId===s.droppableId&&t.index===s.index)return;const l=o.find((e=>e.id===n));if(!l)return;let i=s.droppableId;"in-progress"===i&&(i="in-progress");const a={status:i,progress:"completed"===i?100:l.progress};r(l.id,a)},children:(0,j.jsx)(c.A,{className:"board-container",sx:{display:"flex",gap:3,overflowX:"auto",height:"100%",pb:2},children:Object.entries(C).map((e=>{let[o,r]=e;return(0,j.jsxs)(p.A,{elevation:0,sx:{minWidth:320,maxWidth:320,backgroundColor:r.bgColor,border:"1px solid ".concat(r.color,"30"),borderRadius:2,display:"flex",flexDirection:"column",height:"fit-content",maxHeight:"100%"},children:[(0,j.jsx)(c.A,{sx:{p:2,borderBottom:"1px solid ".concat(r.color,"30"),backgroundColor:"white",borderRadius:"8px 8px 0 0"},children:(0,j.jsxs)(c.A,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,j.jsx)(a.A,{variant:"subtitle2",sx:{fontSize:"0.875rem",fontWeight:600,color:r.color,textTransform:"uppercase",letterSpacing:.5},children:r.title}),(0,j.jsx)(d.A,{label:r.tasks.length,size:"small",sx:{height:20,backgroundColor:r.color,color:"white",fontWeight:600,fontSize:"0.7rem"}})]})}),(0,j.jsx)(n.gL,{droppableId:o,children:(e,o)=>(0,j.jsxs)(c.A,(0,t.A)((0,t.A)({ref:e.innerRef},e.droppableProps),{},{sx:{p:2,minHeight:400,maxHeight:"calc(100vh - 350px)",overflowY:"auto",backgroundColor:o.isDraggingOver?"".concat(r.color,"10"):"transparent",transition:"background-color 0.2s ease"},children:[0===r.tasks.length?(0,j.jsx)(c.A,{sx:{textAlign:"center",py:4,color:"#7f8c8d",backgroundColor:o.isDraggingOver?"".concat(r.color,"20"):"transparent",border:o.isDraggingOver?"2px dashed ".concat(r.color):"2px dashed transparent",borderRadius:2,transition:"all 0.2s ease"},children:(0,j.jsx)(a.A,{variant:"body2",children:"Drop tasks here"})}):r.tasks.map(((e,o)=>(0,j.jsx)(S,{task:e,index:o},e.id))),e.placeholder]}))})]},o)}))})})})}}}]);
//# sourceMappingURL=189.abd661a3.chunk.js.map