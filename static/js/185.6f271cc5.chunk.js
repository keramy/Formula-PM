"use strict";(self.webpackChunkformula_project_app=self.webpackChunkformula_project_app||[]).push([[185],{7762:(e,r,o)=>{o.d(r,{A:()=>n});var l=o(99992),t=o(70579);const n=(0,l.A)((0,t.jsx)("path",{d:"M22 11V3h-7v3H9V3H2v8h7V8h2v10h4v3h7v-8h-7v3h-2V8h2v3z"}),"AccountTree")},50185:(e,r,o)=>{o.r(r),o.d(r,{default:()=>D});var l=o(65043),t=o(53969),n=o(55895),a=o(94799),i=o(28259),s=o(87443),c=o(10756),d=o(86172),h=o(81341),x=o(41778),b=o(34375),j=o(33539),A=o(83759),m=o(26020),g=o(42579),u=o(62055),p=o(47471),f=o(79801),C=o(66185),v=o(70923),y=o(90160),k=o(63898),S=o(12043),w=o(3665),E=o(61773),z=o(7762),M=o(5362),W=o(70579);const D=e=>{let{projects:r=[],clients:o=[],teamMembers:D=[],onEditProject:F,onDeleteProject:P,onViewProject:V,onManageScope:H}=e;const[I,N]=(0,l.useState)("name"),[B,T]=(0,l.useState)("asc"),[O,_]=(0,l.useState)(null),[R,U]=(0,l.useState)(null),L=e=>{const r=o.find((r=>r.id===e));return r?r.companyName:"No Client Assigned"},G=e=>{const r=D.find((r=>r.id===e));return r?r.fullName:"Unassigned"},q=e=>{if(!e)return"Not set";return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})},J=l.useMemo((()=>[...r].sort(((e,r)=>{let o=e[I],l=r[I];return"client"===I&&(o=L(e.clientId),l=L(r.clientId)),"manager"===I&&(o=G(e.projectManager),l=G(r.projectManager)),o<l?"asc"===B?-1:1:o>l?"asc"===B?1:-1:0}))),[r,I,B,o,D]),K=()=>{_(null),U(null)},Q=e=>{if(R)switch(e){case"view":V&&V(R);break;case"edit":F&&F(R);break;case"scope":H&&H(R);break;case"delete":window.confirm('Are you sure you want to delete "'.concat(R.name,'"?'))&&P&&P(R.id)}K()};return 0===r.length?(0,W.jsxs)(t.A,{sx:{textAlign:"center",py:8,backgroundColor:"white",borderRadius:2,border:"1px solid #E9ECEF"},children:[(0,W.jsx)(v.A,{sx:{fontSize:64,color:"#BDC3C7",mb:2}}),(0,W.jsx)(n.A,{variant:"h6",color:"textSecondary",gutterBottom:!0,children:"No Projects Found"}),(0,W.jsx)(n.A,{variant:"body2",color:"textSecondary",children:"Start by creating your first project or adjust your search filters."})]}):(0,W.jsxs)(a.A,{elevation:0,sx:{width:"100%",overflow:"hidden",border:"1px solid #E9ECEF",borderRadius:2},children:[(0,W.jsx)(i.A,{sx:{maxHeight:600},children:(0,W.jsxs)(s.A,{stickyHeader:!0,children:[(0,W.jsx)(c.A,{children:(0,W.jsx)(d.A,{children:[{id:"name",label:"Project Name",sortable:!0,minWidth:200},{id:"client",label:"Client",sortable:!0,minWidth:150},{id:"type",label:"Type",sortable:!0,minWidth:130},{id:"status",label:"Status",sortable:!0,minWidth:120},{id:"manager",label:"Manager",sortable:!0,minWidth:150},{id:"startDate",label:"Start Date",sortable:!0,minWidth:120},{id:"endDate",label:"End Date",sortable:!0,minWidth:120},{id:"progress",label:"Progress",sortable:!1,minWidth:120},{id:"actions",label:"Actions",sortable:!1,minWidth:80}].map((e=>(0,W.jsx)(h.A,{sx:{minWidth:e.minWidth,backgroundColor:"#F8F9FA",fontWeight:600,color:"#2C3E50"},children:e.sortable?(0,W.jsx)(x.A,{active:I===e.id,direction:I===e.id?B:"asc",onClick:()=>{return r=e.id,T(I===r&&"asc"===B?"desc":"asc"),void N(r);var r},children:e.label}):e.label},e.id)))})}),(0,W.jsx)(b.A,{children:J.map((e=>{const r=(e=>{const r={"on-tender":{label:"On Tender",color:"#3498db",bgColor:"#ebf3fd"},awarded:{label:"Awarded",color:"#27ae60",bgColor:"#eafaf1"},"on-hold":{label:"On Hold",color:"#f39c12",bgColor:"#fef9e7"},"not-awarded":{label:"Not Awarded",color:"#e74c3c",bgColor:"#fdedec"},active:{label:"Active",color:"#9b59b6",bgColor:"#f4ecf7"},completed:{label:"Completed",color:"#2c3e50",bgColor:"#eaeded"}};return r[e]||r["on-tender"]})(e.status),o=(e=>{const r={"general-contractor":{label:"General Contractor",color:"#e67e22"},"fit-out":{label:"Fit-out",color:"#e67e22"},mep:{label:"MEP",color:"#1abc9c"},electrical:{label:"Electrical",color:"#f1c40f"},millwork:{label:"Millwork",color:"#8e44ad"},management:{label:"Management",color:"#37444B"}};return r[e]||r["general-contractor"]})(e.type),l=Math.floor(100*Math.random());return(0,W.jsxs)(d.A,{hover:!0,sx:{"&:hover":{backgroundColor:"#F8F9FA"}},children:[(0,W.jsx)(h.A,{children:(0,W.jsxs)(t.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,W.jsx)(j.A,{sx:{width:32,height:32,backgroundColor:o.color,fontSize:"0.8rem",fontWeight:600},children:e.name.substring(0,2).toUpperCase()}),(0,W.jsx)(t.A,{children:(0,W.jsx)(n.A,{variant:"body2",sx:{fontWeight:600,color:"#3498db",cursor:"pointer",textDecoration:"none","&:hover":{textDecoration:"underline",color:"#2980b9"}},onClick:()=>H&&H(e),children:e.name})})]})}),(0,W.jsx)(h.A,{children:(0,W.jsxs)(t.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,W.jsx)(v.A,{fontSize:"small",color:"action"}),(0,W.jsx)(n.A,{variant:"body2",children:L(e.clientId)})]})}),(0,W.jsx)(h.A,{children:(0,W.jsx)(A.A,{label:o.label,size:"small",sx:{backgroundColor:"".concat(o.color,"15"),color:o.color,fontWeight:500,border:"1px solid ".concat(o.color,"30")}})}),(0,W.jsx)(h.A,{children:(0,W.jsx)(A.A,{label:r.label,size:"small",sx:{backgroundColor:r.bgColor,color:r.color,fontWeight:500}})}),(0,W.jsx)(h.A,{children:(0,W.jsxs)(t.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,W.jsx)(y.A,{fontSize:"small",color:"action"}),(0,W.jsx)(n.A,{variant:"body2",children:G(e.projectManager)})]})}),(0,W.jsx)(h.A,{children:(0,W.jsxs)(t.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,W.jsx)(k.A,{fontSize:"small",color:"action"}),(0,W.jsx)(n.A,{variant:"body2",children:q(e.startDate)})]})}),(0,W.jsx)(h.A,{children:(0,W.jsxs)(t.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,W.jsx)(k.A,{fontSize:"small",color:"action"}),(0,W.jsx)(n.A,{variant:"body2",children:q(e.endDate)})]})}),(0,W.jsx)(h.A,{children:(0,W.jsx)(t.A,{sx:{display:"flex",alignItems:"center",gap:1},children:(0,W.jsxs)(t.A,{sx:{width:"100%"},children:[(0,W.jsx)(m.A,{variant:"determinate",value:l,sx:{height:6,borderRadius:3,backgroundColor:"#E0E0E0","& .MuiLinearProgress-bar":{backgroundColor:l>75?"#27AE60":l>50?"#F39C12":l>25?"#3498DB":"#E74C3C"}}}),(0,W.jsxs)(n.A,{variant:"caption",color:"textSecondary",children:[l,"%"]})]})})}),(0,W.jsx)(h.A,{children:(0,W.jsx)(g.A,{size:"small",onClick:r=>((e,r)=>{_(e.currentTarget),U(r)})(r,e),children:(0,W.jsx)(S.A,{})})})]},e.id)}))})]})}),(0,W.jsxs)(u.A,{anchorEl:O,open:Boolean(O),onClose:K,transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[(0,W.jsxs)(p.A,{onClick:()=>Q("view"),children:[(0,W.jsx)(f.A,{children:(0,W.jsx)(w.A,{fontSize:"small"})}),(0,W.jsx)(C.A,{children:"View Details"})]}),(0,W.jsxs)(p.A,{onClick:()=>Q("edit"),children:[(0,W.jsx)(f.A,{children:(0,W.jsx)(E.A,{fontSize:"small"})}),(0,W.jsx)(C.A,{children:"Edit Project"})]}),(0,W.jsxs)(p.A,{onClick:()=>Q("scope"),children:[(0,W.jsx)(f.A,{children:(0,W.jsx)(z.A,{fontSize:"small"})}),(0,W.jsx)(C.A,{children:"Manage Scope"})]}),(0,W.jsxs)(p.A,{onClick:()=>Q("delete"),sx:{color:"error.main"},children:[(0,W.jsx)(f.A,{children:(0,W.jsx)(M.A,{fontSize:"small",color:"error"})}),(0,W.jsx)(C.A,{children:"Delete Project"})]})]})]})}},63898:(e,r,o)=>{o.d(r,{A:()=>n});var l=o(99992),t=o(70579);const n=(0,l.A)((0,t.jsx)("path",{d:"M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 18H4V8h16z"}),"CalendarToday")}}]);
//# sourceMappingURL=185.6f271cc5.chunk.js.map