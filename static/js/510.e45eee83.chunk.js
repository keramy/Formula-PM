"use strict";(self.webpackChunkformula_project_app=self.webpackChunkformula_project_app||[]).push([[177,510],{5362:(e,t,r)=>{r.d(t,{A:()=>n});var l=r(99992),a=r(70579);const n=(0,l.A)((0,a.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")},20177:(e,t,r)=>{r.r(t),r.d(t,{default:()=>g});var l=r(89379),a=r(65043),n=r(53969),o=r(56803),i=r(24343),s=r(47471),d=r(10256),c=r(79067),h=r(84938),u=r(41859),p=r(53541),x=r(24793),m=r(5984),A=r(70579);const j=[{value:"general-contractor",label:"General Contractor"},{value:"millwork",label:"Millwork"},{value:"electrical",label:"Electrical"},{value:"mep",label:"MEP"},{value:"management",label:"Management"}],b=[{value:"on-tender",label:"On Tender"},{value:"awarded",label:"Awarded"},{value:"on-hold",label:"On Hold"},{value:"not-awarded",label:"Not Awarded"},{value:"active",label:"Active"},{value:"completed",label:"Completed"}];const g=function(e){let{onSubmit:t,clients:r=[],initialProject:g=null}=e;const[C,f]=(0,a.useState)(g?{name:g.name||"",type:g.type||"",startDate:g.startDate?new Date(g.startDate):null,endDate:g.endDate?new Date(g.endDate):null,clientId:g.clientId||"",status:g.status||"on-tender",description:g.description||""}:{name:"",type:"",startDate:null,endDate:null,clientId:"",status:"on-tender",description:""}),[v,D]=(0,a.useState)({}),[y,E]=(0,a.useState)(!1),w=e=>t=>{f((0,l.A)((0,l.A)({},C),{},{[e]:t.target.value})),v[e]&&D((0,l.A)((0,l.A)({},v),{},{[e]:""}))},S=e=>t=>{f((0,l.A)((0,l.A)({},C),{},{[e]:t})),v[e]&&D((0,l.A)((0,l.A)({},v),{},{[e]:""}))};return(0,A.jsx)(x.$,{dateAdapter:m.h,children:(0,A.jsxs)(n.A,{component:"form",onSubmit:e=>{if(e.preventDefault(),(()=>{const e={};return C.name.trim()||(e.name="Project name is required"),C.type||(e.type="Project type is required"),C.startDate||(e.startDate="Start date is required"),C.endDate||(e.endDate="End date is required"),C.clientId||(e.clientId="Client selection is required"),C.startDate&&C.endDate&&C.startDate>=C.endDate&&(e.endDate="End date must be after start date"),D(e),0===Object.keys(e).length})()){const e=(0,l.A)((0,l.A)({},C),{},{startDate:C.startDate.toISOString().split("T")[0],endDate:C.endDate.toISOString().split("T")[0]});g&&(e.id=g.id),t(e),g||f({name:"",type:"",startDate:null,endDate:null,clientId:"",status:"on-tender",description:""}),E(!0),setTimeout((()=>E(!1)),3e3)}},sx:{display:"flex",flexDirection:"column",gap:2},children:[y&&(0,A.jsx)(o.A,{severity:"success",children:"Project created successfully!"}),(0,A.jsx)(i.A,{label:"Project Name",value:C.name,onChange:w("name"),error:!!v.name,helperText:v.name,fullWidth:!0,required:!0}),(0,A.jsx)(i.A,{select:!0,label:"Project Type",value:C.type,onChange:w("type"),error:!!v.type,helperText:v.type,fullWidth:!0,required:!0,children:j.map((e=>(0,A.jsx)(s.A,{value:e.value,children:e.label},e.value)))}),(0,A.jsx)(p.l,{label:"Start Date",value:C.startDate,onChange:S("startDate"),slotProps:{textField:{error:!!v.startDate,helperText:v.startDate,fullWidth:!0,required:!0}}}),(0,A.jsx)(p.l,{label:"End Date",value:C.endDate,onChange:S("endDate"),slotProps:{textField:{error:!!v.endDate,helperText:v.endDate,fullWidth:!0,required:!0}}}),(0,A.jsxs)(d.A,{fullWidth:!0,required:!0,error:!!v.clientId,children:[(0,A.jsx)(c.A,{children:"Client"}),(0,A.jsx)(h.A,{value:C.clientId,onChange:w("clientId"),label:"Client",children:r.map((e=>(0,A.jsx)(s.A,{value:e.id,children:e.companyName},e.id)))}),v.clientId&&(0,A.jsx)(n.A,{sx:{color:"error.main",fontSize:"0.75rem",mt:.5,ml:1.75},children:v.clientId})]}),(0,A.jsxs)(d.A,{fullWidth:!0,children:[(0,A.jsx)(c.A,{children:"Project Status"}),(0,A.jsx)(h.A,{value:C.status,onChange:w("status"),label:"Project Status",children:b.map((e=>(0,A.jsx)(s.A,{value:e.value,children:e.label},e.value)))})]}),(0,A.jsx)(i.A,{label:"Description",value:C.description,onChange:w("description"),multiline:!0,rows:3,fullWidth:!0}),(0,A.jsx)(u.A,{type:"submit",variant:"contained",size:"large",sx:{mt:2},children:"Create Project"})]})})}},34510:(e,t,r)=>{r.r(t),r.d(t,{default:()=>i});r(65043);var l=r(53969),a=r(20177),n=r(66866),o=r(70579);const i=e=>{let{project:t=null,clients:r,onSubmit:i,onCancel:s,isEdit:d=!1}=e;const c=d?"Edit Project":"Create New Project",h=d?"edit-project":"add-project",u=d&&t?{projectId:t.id,projectName:t.name,status:t.status,type:t.type}:{};return(0,o.jsx)(n.A,{pageType:h,pageTitle:c,pageData:u,subtitle:d?"Editing: ".concat(null===t||void 0===t?void 0:t.name):"Create a new project",onNavigate:e=>{"/projects"===e&&s&&s()},contentPadding:3,children:(0,o.jsx)(l.A,{sx:{maxWidth:800,mx:"auto",backgroundColor:"white",borderRadius:3,border:"1px solid #E9ECEF",p:4},children:(0,o.jsx)(a.default,{clients:r,onSubmit:i,initialProject:t})})})}},51087:(e,t,r)=>{r.d(t,{A:()=>n});var l=r(99992),a=r(70579);const n=(0,l.A)((0,a.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"NavigateNext")},58315:(e,t,r)=>{r.d(t,{A:()=>n});var l=r(99992),a=r(70579);const n=(0,l.A)((0,a.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack")},61773:(e,t,r)=>{r.d(t,{A:()=>n});var l=r(99992),a=r(70579);const n=(0,l.A)((0,a.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")},66866:(e,t,r)=>{r.d(t,{A:()=>k});var l=r(65043),a=r(53969),n=r(60267),o=r(86995),i=r(94799),s=r(42579),d=r(65749),c=r(55895),h=r(31202),u=r(26529),p=r(83759),x=r(32306),m=r(70923),A=r(61773),j=r(26582),b=r(5362),g=r(58315),C=r(51087),f=r(27601),v=r(96659),D=r(53724),y=r(70579);const E=e=>({completed:"#27AE60",active:"#8E44AD","in-progress":"#F39C12",in_progress:"#F39C12",pending:"#3498DB","on-hold":"#E67E22",on_hold:"#E67E22",cancelled:"#E74C3C",awarded:"#27AE60","on-tender":"#3498DB",on_tender:"#3498DB","not-awarded":"#E74C3C",not_awarded:"#E74C3C"}[null===e||void 0===e?void 0:e.toLowerCase()]||"#95A5A6"),w=e=>{let{currentPath:t=[],onNavigate:r,title:l,subtitle:w,itemType:S,itemId:k,itemData:F={},actions:z=[],onEdit:P,onDelete:I,onShare:T,showMoreActions:B=!1,isStarred:M=!1,onToggleStar:W,showBackButton:q=!0,backgroundColor:N="white",elevation:_=0}=e;const H=(0,n.A)(),L=(0,o.A)(H.breakpoints.down("md")),O=(()=>{const e=[{label:"Formula PM",icon:(0,y.jsx)(x.A,{sx:{fontSize:16}}),href:"/",onClick:()=>r&&r("/")},{label:"Team Space",icon:(0,y.jsx)(m.A,{sx:{fontSize:16}}),href:"/dashboard",onClick:()=>r&&r("/dashboard")}];return t.forEach(((l,a)=>{e.push({label:l.label,href:l.href,onClick:()=>r&&r(l.href),isLast:a===t.length-1})})),e})(),R=[...z||[],...P?[{icon:(0,y.jsx)(A.A,{}),label:"Edit",onClick:P,color:"primary"}]:[],...T?[{icon:(0,y.jsx)(j.A,{}),label:"Share",onClick:T,color:"default"}]:[],...I?[{icon:(0,y.jsx)(b.A,{}),label:"Delete",onClick:I,color:"error"}]:[]];return(0,y.jsxs)(i.A,{elevation:_,sx:{backgroundColor:N,borderBottom:"1px solid #E9ECEF",px:{xs:2,md:4},py:3,borderRadius:0},children:[L&&q&&(0,y.jsx)(a.A,{sx:{mb:2},children:(0,y.jsx)(s.A,{onClick:()=>{if(t.length>0){const e=t[t.length-1];r&&e.href?r(e.href):window.history.back()}else window.history.back()},size:"small",sx:{color:"#7F8C8D","&:hover":{color:"#2C3E50"}},children:(0,y.jsx)(g.A,{})})}),!L&&(0,y.jsx)(d.A,{separator:(0,y.jsx)(C.A,{fontSize:"small"}),sx:{mb:2,fontSize:"0.875rem","& .MuiBreadcrumbs-separator":{color:"#7F8C8D"}},children:O.map(((e,t)=>t===O.length-1?(0,y.jsxs)(c.A,{color:"text.primary",fontWeight:500,sx:{color:"#2C3E50",display:"flex",alignItems:"center",gap:.5},children:[e.icon,e.label]},t):(0,y.jsxs)(h.A,{underline:"hover",color:"inherit",href:e.href||"#",onClick:t=>{t.preventDefault(),e.onClick&&e.onClick()},sx:{display:"flex",alignItems:"center",gap:.5,color:"#7F8C8D",cursor:"pointer","&:hover":{color:"#2C3E50"}},children:[e.icon,e.label]},t)))}),(0,y.jsxs)(a.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:{xs:"flex-start",md:"center"},flexDirection:{xs:"column",md:"row"},gap:{xs:2,md:0}},children:[(0,y.jsxs)(a.A,{sx:{display:"flex",alignItems:"center",gap:2,flex:1},children:[(0,y.jsxs)(a.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,y.jsx)(c.A,{variant:"h4",sx:{fontWeight:700,color:"#2C3E50",fontSize:{xs:"1.5rem",md:"1.75rem"}},children:l}),W&&(0,y.jsx)(u.A,{title:M?"Remove from favorites":"Add to favorites",children:(0,y.jsx)(s.A,{size:"small",onClick:W,sx:{color:M?"#F39C12":"#BDC3C7","&:hover":{color:M?"#E67E22":"#F39C12"}},children:M?(0,y.jsx)(f.A,{}):(0,y.jsx)(v.A,{})})})]}),(w||F.status||F.type)&&(0,y.jsxs)(a.A,{sx:{display:"flex",alignItems:"center",gap:1,flexWrap:"wrap",ml:{xs:0,md:2}},children:[w&&(0,y.jsx)(c.A,{variant:"body2",sx:{color:"#7F8C8D",fontSize:"0.9rem"},children:w}),F.status&&(0,y.jsx)(p.A,{label:F.status,size:"small",sx:{height:24,fontSize:"0.75rem",backgroundColor:E(F.status),color:"white",fontWeight:600}}),F.type&&(0,y.jsx)(p.A,{label:F.type,size:"small",variant:"outlined",sx:{height:24,fontSize:"0.75rem",borderColor:"#D5DBDB",color:"#7F8C8D"}})]})]}),R.length>0&&(0,y.jsxs)(a.A,{sx:{display:"flex",alignItems:"center",gap:1.5,flexShrink:0},children:[R.slice(0,L?2:4).map(((e,t)=>(0,y.jsx)(u.A,{title:e.label,children:(0,y.jsx)(s.A,{onClick:e.onClick,size:"small",sx:{backgroundColor:"primary"===e.color?"#3498DB":"#F8F9FA",color:"primary"===e.color?"white":"error"===e.color?"#E74C3C":"#7F8C8D",border:"primary"===e.color?"none":"1px solid #E9ECEF",borderRadius:2,width:36,height:36,"&:hover":{backgroundColor:"primary"===e.color?"#2980B9":"error"===e.color?"#fadbd8":"#ECF0F1",transform:"translateY(-1px)",boxShadow:"primary"===e.color?"0 4px 12px rgba(52, 152, 219, 0.3)":"none"}},children:e.icon})},t))),(R.length>(L?2:4)||B)&&(0,y.jsx)(u.A,{title:"More options",children:(0,y.jsx)(s.A,{size:"small",sx:{backgroundColor:"#F8F9FA",border:"1px solid #E9ECEF",borderRadius:2,width:36,height:36,"&:hover":{backgroundColor:"#ECF0F1",border:"1px solid #D5DBDB"}},children:(0,y.jsx)(D.A,{sx:{fontSize:18}})})})]})]})]})};var S=r(42509);const k=e=>{let{pageType:t,pageTitle:r,pageData:n={},parentPath:o,onNavigate:i,subtitle:s,actions:d=[],isStarred:c=!1,onToggleStar:h,onEdit:u,onDelete:p,onShare:x,children:m,showBreadcrumb:A=!0,breadcrumbElevation:j=0,contentPadding:b=3}=e;const{navigateTo:g,getBreadcrumbConfig:C}=(0,S.cq)();(0,l.useEffect)((()=>{t&&r&&g({title:r,path:window.location.pathname,type:t,parentPath:o,data:n})}),[t,r,o,n,g]);const f=C();return(0,y.jsxs)(a.A,{sx:{minHeight:"100vh",backgroundColor:"#F8F9FA"},children:[A&&(0,y.jsx)(w,{currentPath:f.currentPath,title:r,subtitle:s,itemType:t,itemData:n,actions:d,isStarred:c,onToggleStar:h,onEdit:u,onDelete:p,onShare:x,onNavigate:e=>{i?i(e):window.history.pushState({},"",e)},elevation:j}),(0,y.jsx)(a.A,{sx:{p:b},children:m})]})}}}]);
//# sourceMappingURL=510.e45eee83.chunk.js.map