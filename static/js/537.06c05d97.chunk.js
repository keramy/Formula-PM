"use strict";(self.webpackChunkformula_project_app=self.webpackChunkformula_project_app||[]).push([[537],{7762:(e,l,t)=>{t.d(l,{A:()=>n});var a=t(99992),r=t(70579);const n=(0,a.A)((0,r.jsx)("path",{d:"M22 11V3h-7v3H9V3H2v8h7V8h2v10h4v3h7v-8h-7v3h-2V8h2v3z"}),"AccountTree")},19981:(e,l,t)=>{t.d(l,{A:()=>S});var a=t(65043),r=t(53969),n=t(33539),o=t(55895),i=t(83759),s=t(26020),c=t(26529),d=t(94799),x=t(28259),h=t(87443),u=t(10756),m=t(86172),p=t(81341),A=t(26711),b=t(41778),v=t(34375),j=t(42579),g=t(62055),f=t(47471),y=t(79801),C=t(66185),k=t(12043),w=t(70579);const S=e=>{let{data:l,columns:t,onSort:S,sortBy:z,sortDirection:M,onRowAction:W,showCheckboxes:F=!1,selectedRows:D=[],onSelectRow:N,onSelectAll:T,actions:L=[],emptyStateMessage:I="No data available",emptyStateIcon:V}=e;const[R,E]=(0,a.useState)(null),[P,O]=(0,a.useState)(null),B=()=>{E(null),O(null)},H=(e,l)=>{if(!l||"object"!==typeof l)return console.warn("Invalid rowData in renderCellContent:",l),"-";const t=l[e.key],d=e=>a.isValidElement(e)||"string"===typeof e||"number"===typeof e?e:null===e||void 0===e?"-":"boolean"===typeof e?e.toString():"object"===typeof e?(console.warn("Attempting to render object as React child:",e),"[Object]"):String(e);if(e.render)try{const s=e.render(t,l);if("object"===typeof s&&null!==s&&!a.isValidElement(s)){if(s.hasOwnProperty("fallback")||s.hasOwnProperty("bgColor")||s.hasOwnProperty("text"))return(0,w.jsxs)(r.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,w.jsx)(n.A,{src:s.src,sx:{width:32,height:32,backgroundColor:s.bgColor||"primary.main"},children:s.fallback||"?"}),s.text&&(0,w.jsx)(o.A,{variant:"body2",sx:{cursor:s.clickable?"pointer":"default",color:s.clickable?"#3498db":"inherit",textDecoration:"none","&:hover":s.clickable?{textDecoration:"underline",color:"#2980b9"}:{}},onClick:s.clickable?s.onClick:void 0,children:s.text})]});if(s.hasOwnProperty("label")||s.hasOwnProperty("color"))return(0,w.jsx)(i.A,{label:s.label||"Unknown",size:"small",icon:s.icon||null,sx:{backgroundColor:s.bgColor||"grey.100",color:s.color||"text.primary",fontWeight:500,"& .MuiChip-icon":{color:s.color||"text.primary",fontSize:"16px"}}});console.warn("Unhandled object in table cell:",s,"Column:",e);try{return String(s.toString?s.toString():JSON.stringify(s))}catch(x){return console.error("Failed to stringify object:",x,s),"Error: Invalid object"}}return d(s)}catch(h){return console.error("Error in column render function:",h,"Column:",e.key,"Value:",t),"Error: Render failed"}switch(e.type){case"avatar":return(0,w.jsxs)(r.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,w.jsx)(n.A,{src:null===t||void 0===t?void 0:t.src,sx:{width:32,height:32,backgroundColor:(null===t||void 0===t?void 0:t.bgColor)||"primary.main"},children:(null===t||void 0===t?void 0:t.fallback)||("string"===typeof t?t.charAt(0):"")}),(null===t||void 0===t?void 0:t.text)&&(0,w.jsx)(o.A,{variant:"body2",children:t.text})]});case"chip":return t?(0,w.jsx)(i.A,{label:t.label||t,size:"small",icon:t.icon||null,sx:{backgroundColor:t.bgColor||"grey.100",color:t.color||"text.primary",fontWeight:500,"& .MuiChip-icon":{color:t.color||"text.primary",fontSize:"16px"}}}):"-";case"progress":return"number"!==typeof t?"-":(0,w.jsxs)(r.A,{sx:{display:"flex",alignItems:"center",gap:1,minWidth:100},children:[(0,w.jsx)(s.A,{variant:"determinate",value:t,sx:{flexGrow:1,height:8,borderRadius:4}}),(0,w.jsxs)(o.A,{variant:"caption",sx:{minWidth:35},children:[t,"%"]})]});case"date":if(!t)return"-";return(t instanceof Date?t:new Date(t)).toLocaleDateString();case"currency":return t?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t):"-";case"email":return t?(0,w.jsx)(o.A,{variant:"body2",component:"a",href:"mailto:".concat(t),sx:{color:"primary.main",textDecoration:"none"},children:t}):"-";case"phone":return t?(0,w.jsx)(o.A,{variant:"body2",component:"a",href:"tel:".concat(t),sx:{color:"primary.main",textDecoration:"none"},children:t}):"-";case"multiline":return t?(0,w.jsx)(c.A,{title:t,arrow:!0,children:(0,w.jsx)(o.A,{variant:"body2",sx:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:200},children:t})}):"-";default:return d(t)}};return 0===l.length?(0,w.jsxs)(d.A,{sx:{p:4,textAlign:"center"},children:[V&&(0,w.jsx)(V,{sx:{fontSize:64,color:"text.secondary",mb:2}}),(0,w.jsx)(o.A,{variant:"h6",color:"text.secondary",children:I})]}):(0,w.jsxs)(x.A,{component:d.A,sx:{mt:2},children:[(0,w.jsxs)(h.A,{children:[(0,w.jsx)(u.A,{children:(0,w.jsxs)(m.A,{children:[F&&(0,w.jsx)(p.A,{padding:"checkbox",children:(0,w.jsx)(A.A,{indeterminate:D.length>0&&D.length<l.length,checked:l.length>0&&D.length===l.length,onChange:T})}),t.map((e=>(0,w.jsx)(p.A,{align:e.align||"left",sx:{fontWeight:600,minWidth:e.minWidth,width:e.width},children:!1!==e.sortable?(0,w.jsx)(b.A,{active:z===e.key,direction:z===e.key?M:"asc",onClick:()=>(e=>{if(!1!==e.sortable&&S){const l=z===e.key&&"asc"===M;S(e.key,l?"desc":"asc")}})(e),children:e.label}):e.label},e.key))),L.length>0&&(0,w.jsx)(p.A,{align:"center",sx:{width:60},children:"Actions"})]})}),(0,w.jsx)(v.A,{children:l.map(((e,l)=>(0,w.jsxs)(m.A,{hover:!0,selected:D.includes(e.id),sx:{"&:nth-of-type(odd)":{backgroundColor:"action.hover"}},children:[F&&(0,w.jsx)(p.A,{padding:"checkbox",children:(0,w.jsx)(A.A,{checked:D.includes(e.id),onChange:()=>N&&N(e.id)})}),t.map((l=>(0,w.jsx)(p.A,{align:l.align||"left",sx:{py:2},children:H(l,e)},l.key))),L.length>0&&(0,w.jsx)(p.A,{align:"center",children:(0,w.jsx)(j.A,{size:"small",onClick:l=>{return t=e,E(l.currentTarget),void O(t);var t},children:(0,w.jsx)(k.A,{})})})]},e.id||l)))})]}),(0,w.jsx)(g.A,{anchorEl:R,open:Boolean(R),onClose:B,PaperProps:{sx:{minWidth:120}},children:L.map((e=>(0,w.jsxs)(f.A,{onClick:()=>(e=>{W&&P&&W(e,P),B()})(e.key),disabled:e.disabled&&e.disabled(P),children:[(0,w.jsx)(y.A,{children:e.icon}),(0,w.jsx)(C.A,{children:e.label})]},e.key)))})]})}},25537:(e,l,t)=>{t.r(l),t.d(l,{default:()=>J});var a=t(89379),r=t(65043),n=t(53969),o=t(55895),i=t(53089),s=t(91244),c=t(16128),d=t(71863),x=t(33539),h=t(83759),u=t(38517),m=t(81911),p=t(78776),A=t(24343),b=t(47471),v=t(85877),j=t(41859),g=t(94527),f=t(3665),y=t(61773),C=t(5362),k=t(90160),w=t(7762),S=t(99992),z=t(70579);const M=(0,S.A)([(0,z.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"},"0"),(0,z.jsx)("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},"1")],"AccessTime");var W=t(34879),F=t(77539),D=t(19981),N=t(42579),T=t(62055),L=t(79801),I=t(66185),V=t(27601),R=t(96659),E=t(26582);const P=(0,S.A)((0,z.jsx)("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"}),"ContentCopy"),O=(0,S.A)((0,z.jsx)("path",{d:"m20.54 5.23-1.39-1.68C18.88 3.21 18.47 3 18 3H6c-.47 0-.88.21-1.16.55L3.46 5.23C3.17 5.57 3 6.02 3 6.5V19c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V6.5c0-.48-.17-.93-.46-1.27M12 17.5 6.5 12H10v-2h4v2h3.5zM5.12 5l.81-1h12l.94 1z"}),"Archive");var B=t(12043);const H=e=>{let{options:l=[],onAction:t,iconButtonProps:n={},menuProps:o={},disabled:i=!1}=e;const[s,c]=(0,r.useState)(null),d=Boolean(s),x=()=>{c(null)};return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(N.A,(0,a.A)((0,a.A)({onClick:e=>{e.stopPropagation(),c(e.currentTarget)},disabled:i,size:"small",sx:(0,a.A)({opacity:.7,transition:"opacity 0.2s ease","&:hover":{opacity:1,backgroundColor:"rgba(0, 0, 0, 0.04)"}},n.sx)},n),{},{children:(0,z.jsx)(B.A,{fontSize:"small"})})),(0,z.jsx)(T.A,(0,a.A)((0,a.A)({anchorEl:s,open:d,onClose:x,onClick:e=>e.stopPropagation(),PaperProps:{sx:{minWidth:160,boxShadow:"0 4px 20px rgba(0, 0, 0, 0.15)",border:"1px solid #E9ECEF",borderRadius:2,"& .MuiMenuItem-root":{px:2,py:1,fontSize:"0.875rem","&:hover":{backgroundColor:"#F8F9FA"}}}},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"}},o),{},{children:l.map(((e,l)=>{return e.divider?(0,z.jsx)(g.A,{sx:{my:.5}},"divider-".concat(l)):(0,z.jsxs)(b.A,{onClick:()=>((e,l)=>{x(),t&&t(e,l)})(e.action,e),disabled:e.disabled,sx:{color:(r=e.action,"delete"===r?"error.main":"archive"===r?"warning.main":"text.primary"),"&:hover":{backgroundColor:"delete"===e.action?"rgba(231, 76, 60, 0.08)":"rgba(0, 0, 0, 0.04)"}},children:[e.icon&&(0,z.jsx)(L.A,{sx:{color:"inherit",minWidth:36},children:"string"===typeof e.icon?(a=e.icon,{view:(0,z.jsx)(f.A,{fontSize:"small"}),edit:(0,z.jsx)(y.A,{fontSize:"small"}),delete:(0,z.jsx)(C.A,{fontSize:"small"}),star:(0,z.jsx)(V.A,{fontSize:"small"}),unstar:(0,z.jsx)(R.A,{fontSize:"small"}),share:(0,z.jsx)(E.A,{fontSize:"small"}),duplicate:(0,z.jsx)(P,{fontSize:"small"}),archive:(0,z.jsx)(O,{fontSize:"small"})}[a]||null):e.icon}),(0,z.jsx)(I.A,{children:e.label})]},e.action||l);var a,r}))}))]})};var U=t(15917);const _=[{value:"project_manager",label:"Project Manager",color:"#e74c3c",level:5},{value:"team_lead",label:"Team Lead",color:"#e67e22",level:4},{value:"senior",label:"Senior",color:"#f39c12",level:3},{value:"junior",label:"Junior",color:"#27ae60",level:2},{value:"client",label:"Client",color:"#3498db",level:1}],G=[{value:"construction",label:"Construction"},{value:"millwork",label:"Millwork"},{value:"electrical",label:"Electrical"},{value:"mechanical",label:"Mechanical"},{value:"management",label:"Management"},{value:"client",label:"Client"}];const J=function(e){var l,t;let{teamMembers:S,tasks:N,onUpdateMember:T,onDeleteMember:L,onAddMember:I,onViewMemberDetail:V,viewMode:R,onViewModeChange:E}=e;const[P,O]=(0,r.useState)(!1),[B,J]=(0,r.useState)(!1),[Q,q]=(0,r.useState)(null),[Y,X]=(0,r.useState)({}),[$,K]=(0,r.useState)(""),[Z,ee]=(0,r.useState)(!1),[le,te]=(0,r.useState)(R||"card"),[ae,re]=(0,r.useState)("roleLevel"),[ne,oe]=(0,r.useState)("desc"),[ie,se]=(0,r.useState)({role:"",department:"",status:"",level:""}),ce=[{key:"role",label:"Role",type:"select",options:_},{key:"department",label:"Department",type:"select",options:G},{key:"status",label:"Status",type:"select",options:[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"}]},{key:"level",label:"Level",type:"select",options:[{value:"1",label:"Level 1"},{value:"2",label:"Level 2"},{value:"3",label:"Level 3"},{value:"4",label:"Level 4"},{value:"5",label:"Level 5"},{value:"6",label:"Level 6"},{value:"7",label:"Level 7"},{value:"8",label:"Level 8"},{value:"9",label:"Level 9"},{value:"10",label:"Level 10"}]}],de=[{key:"member",label:"Member",sortable:!0,type:"avatar",render:(e,l)=>({fallback:l.initials,bgColor:l.roleColor,text:l.fullName,clickable:!0,onClick:()=>V&&V(l)})},{key:"role",label:"Role",type:"chip",render:(e,l)=>{const t=_.find((l=>l.value===e));return{label:t?t.label:e,color:l.roleColor,bgColor:"".concat(l.roleColor,"20")}}},{key:"department",label:"Department",render:e=>{const l=G.find((l=>l.value===e));return l?l.label:e}},{key:"status",label:"Status",type:"chip",render:e=>({label:"active"===e?"Active":"Inactive",color:"active"===e?"#27ae60":"#e74c3c",bgColor:"active"===e?"#eafaf1":"#fdf2f2"})},{key:"tasks",label:"Task Completion",type:"progress",render:(e,l)=>he(l.id).completionRate}],xe=[{key:"view",label:"View Details",icon:(0,z.jsx)(f.A,{})},{key:"edit",label:"Edit Member",icon:(0,z.jsx)(y.A,{})},{key:"delete",label:"Delete Member",icon:(0,z.jsx)(C.A,{})}],he=e=>{const l=N.filter((l=>l.assignedTo===e)),t=l.filter((e=>"completed"===e.status)).length,a=l.filter((e=>{const l=new Date;return l.setHours(0,0,0,0),"completed"!==e.status&&new Date(e.dueDate)<l})).length;return{total:l.length,completed:t,pending:l.length-t,overdue:a,completionRate:l.length>0?Math.round(t/l.length*100):0}},ue=e=>{const l=S.find((l=>l.id===e));return l?l.fullName:"No Manager"},me=e=>{q(e),X({firstName:e.firstName,lastName:e.lastName,email:e.email,phone:e.phone||"",role:e.role,department:e.department,reportsTo:e.reportsTo||"",hourlyRate:e.hourlyRate||"",notes:e.notes||"",status:e.status}),O(!0)},pe=e=>{q(e),J(!0)},Ae=e=>{window.confirm("Are you sure you want to delete ".concat(e.fullName,"? This action cannot be undone."))&&L(e.id)},be=(0,r.useMemo)((()=>{let e=S.filter((e=>{var l,t;const a=$.toLowerCase(),r=!$||e.fullName.toLowerCase().includes(a)||e.email.toLowerCase().includes(a)||(null===(l=e.position)||void 0===l?void 0:l.toLowerCase().includes(a)),n=!ie.role||e.role===ie.role,o=!ie.department||e.department===ie.department,i=!ie.status||e.status===ie.status,s=!ie.level||(null===(t=e.level)||void 0===t?void 0:t.toString())===ie.level;return r&&n&&o&&i&&s}));return e.sort(((e,l)=>{let t,a;switch(ae){case"member":case"fullName":t=e.fullName.toLowerCase(),a=l.fullName.toLowerCase();break;case"roleLevel":t=e.level||0,a=l.level||0;break;case"role":t=e.role,a=l.role;break;case"department":t=e.department,a=l.department;break;case"email":t=e.email.toLowerCase(),a=l.email.toLowerCase();break;case"status":t=e.status,a=l.status;break;default:return 0}return t<a?"asc"===ne?-1:1:t>a?"asc"===ne?1:-1:0})),e}),[S,$,ie,ae,ne]),ve=Object.entries(ie).filter((e=>{let[l,t]=e;return""!==t})).map((e=>{let[l,t]=e,a=l.charAt(0).toUpperCase()+l.slice(1),r=t;if("role"===l){const e=_.find((e=>e.value===t));r=e?e.label:t}else if("department"===l){const e=G.find((e=>e.value===t));r=e?e.label:t}return{key:l,label:a,value:r}})),je=()=>{se({role:"",department:"",status:"",level:""})},ge=e=>{"all"===e?je():se((l=>(0,a.A)((0,a.A)({},l),{},{[e]:""})))},fe=()=>{(0,U.XY)(be,N)};return[...S].sort(((e,l)=>e.level!==l.level?l.level-e.level:e.fullName.localeCompare(l.fullName))),0===S.length?(0,z.jsxs)(n.A,{children:[(0,z.jsx)(W.A,{title:"Team Members",searchValue:$,onSearchChange:K,showFilters:Z,onToggleFilters:()=>ee(!Z),activeFiltersCount:ve.length,viewMode:le,onViewModeChange:te,onExport:fe,onAdd:I,addButtonText:"Add Member",activeFilters:ve,onClearFilter:ge}),(0,z.jsxs)(n.A,{sx:{textAlign:"center",py:4},children:[(0,z.jsx)(k.A,{sx:{fontSize:64,color:"text.secondary",mb:2}}),(0,z.jsx)(o.A,{variant:"body1",color:"text.secondary",children:"No team members added yet. Add your first team member to get started!"})]})]}):(0,z.jsxs)(n.A,{children:[(0,z.jsx)(W.A,{title:"Team Members",searchValue:$,onSearchChange:K,showFilters:Z,onToggleFilters:()=>ee(!Z),activeFiltersCount:ve.length,viewMode:le,onViewModeChange:e=>{te(e),E&&E(e)},onExport:fe,onAdd:I,addButtonText:"Add Member",activeFilters:ve,onClearFilter:ge}),(0,z.jsx)(F.A,{show:Z,filters:ie,onFilterChange:(e,l)=>{se((t=>(0,a.A)((0,a.A)({},t),{},{[e]:l})))},onClearFilters:je,onApplyQuickFilter:e=>{se((l=>(0,a.A)((0,a.A)({},l),e.filters)))},filterConfig:ce,quickFilters:[{key:"managers",label:"Managers",filters:{role:"project_manager"}},{key:"senior",label:"Senior Staff",filters:{role:"senior"}},{key:"active",label:"Active Members",filters:{status:"active"}},{key:"management",label:"Management",filters:{department:"management"}},{key:"construction",label:"Construction",filters:{department:"construction"}}]}),"table"===le&&(0,z.jsx)(D.A,{data:be,columns:de,onSort:(e,l)=>{re(e),oe(l)},sortBy:ae,sortDirection:ne,onRowAction:(e,l)=>{switch(e){case"view":pe(l);break;case"edit":me(l);break;case"delete":Ae(l)}},actions:xe,emptyStateMessage:"No team members match your filters",emptyStateIcon:k.A}),"card"===le&&(0,z.jsx)(i.A,{container:!0,spacing:3,children:0===be.length?(0,z.jsx)(i.A,{item:!0,xs:12,children:(0,z.jsxs)(n.A,{sx:{textAlign:"center",py:4},children:[(0,z.jsx)(k.A,{sx:{fontSize:64,color:"text.secondary",mb:2}}),(0,z.jsx)(o.A,{variant:"body1",color:"text.secondary",children:"No team members match your filters"})]})}):be.map((e=>{const l=he(e.id),t=(a=e.id,S.filter((e=>e.reportsTo===a)).length);var a;const r=_.find((l=>l.value===e.role)),u=G.find((l=>l.value===e.department));return(0,z.jsx)(i.A,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,z.jsx)(s.A,{sx:{height:320,display:"flex",flexDirection:"column",position:"relative",borderTop:"4px solid ".concat(e.roleColor),"&:hover":{transform:"translateY(-2px)",boxShadow:3},transition:"all 0.2s ease-in-out"},children:(0,z.jsxs)(c.A,{sx:{flexGrow:1,display:"flex",flexDirection:"column",p:2},children:[(0,z.jsxs)(n.A,{sx:{display:"flex",alignItems:"flex-start",mb:2},children:[(0,z.jsx)(d.A,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},badgeContent:(0,z.jsx)(n.A,{sx:{width:12,height:12,borderRadius:"50%",backgroundColor:"active"===e.status?"#27ae60":"#95a5a6",border:"2px solid white"}}),children:(0,z.jsx)(x.A,{sx:{bgcolor:e.roleColor,width:56,height:56,fontSize:20,fontWeight:"bold"},children:e.initials})}),(0,z.jsxs)(n.A,{sx:{ml:2,flex:1},children:[(0,z.jsx)(o.A,{variant:"h6",component:"h3",sx:{cursor:"pointer",color:"#3498db",textDecoration:"none","&:hover":{textDecoration:"underline",color:"#2980b9"}},onClick:()=>V&&V(e),children:e.fullName}),(0,z.jsx)(h.A,{label:null===r||void 0===r?void 0:r.label,size:"small",sx:{backgroundColor:e.roleColor+"20",color:e.roleColor,fontWeight:"bold",mb:1}}),(0,z.jsx)(o.A,{variant:"body2",color:"text.secondary",children:null===u||void 0===u?void 0:u.label})]}),(0,z.jsx)(H,{options:[{action:"view",label:"View Details",icon:"view"},{action:"edit",label:"Edit Member",icon:"edit"},{divider:!0},{action:"delete",label:"Delete Member",icon:"delete"}],onAction:l=>{switch(l){case"view":pe(e);break;case"edit":me(e);break;case"delete":Ae(e)}}})]}),(0,z.jsxs)(n.A,{sx:{mb:2},children:[(0,z.jsx)(o.A,{variant:"subtitle2",gutterBottom:!0,children:"Task Performance"}),(0,z.jsxs)(n.A,{sx:{display:"flex",gap:1,flexWrap:"wrap"},children:[(0,z.jsx)(h.A,{label:"".concat(l.total," total"),size:"small",variant:"outlined"}),(0,z.jsx)(h.A,{label:"".concat(l.completed," done"),size:"small",sx:{backgroundColor:"#eafaf1",color:"#27ae60"}}),l.overdue>0&&(0,z.jsx)(h.A,{label:"".concat(l.overdue," overdue"),size:"small",sx:{backgroundColor:"#fdf2f2",color:"#e74c3c"}})]}),(0,z.jsxs)(o.A,{variant:"body2",color:"text.secondary",sx:{mt:1},children:["Completion Rate: ",l.completionRate,"%"]})]}),(0,z.jsxs)(n.A,{sx:{mb:2},children:[e.reportsTo&&(0,z.jsxs)(n.A,{sx:{display:"flex",alignItems:"center",gap:1,mb:.5},children:[(0,z.jsx)(w.A,{fontSize:"small",color:"action"}),(0,z.jsxs)(o.A,{variant:"body2",color:"text.secondary",children:["Reports to: ",ue(e.reportsTo)]})]}),t>0&&(0,z.jsxs)(o.A,{variant:"body2",color:"text.secondary",children:["Manages: ",t," team member",t>1?"s":""]})]}),(0,z.jsxs)(n.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,z.jsx)(M,{fontSize:"small",color:"action"}),(0,z.jsxs)(o.A,{variant:"body2",color:"text.secondary",children:["Joined: ",(m=e.joinedAt,new Date(m).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}))]})]})]})})},e.id);var m}))}),(0,z.jsxs)(u.A,{open:P,onClose:()=>O(!1),maxWidth:"sm",fullWidth:!0,children:[(0,z.jsx)(m.A,{children:"Edit Team Member"}),(0,z.jsx)(p.A,{children:(0,z.jsxs)(n.A,{sx:{display:"flex",flexDirection:"column",gap:2,mt:1},children:[(0,z.jsxs)(i.A,{container:!0,spacing:2,children:[(0,z.jsx)(i.A,{item:!0,xs:6,children:(0,z.jsx)(A.A,{label:"First Name",value:Y.firstName||"",onChange:e=>X((0,a.A)((0,a.A)({},Y),{},{firstName:e.target.value})),fullWidth:!0})}),(0,z.jsx)(i.A,{item:!0,xs:6,children:(0,z.jsx)(A.A,{label:"Last Name",value:Y.lastName||"",onChange:e=>X((0,a.A)((0,a.A)({},Y),{},{lastName:e.target.value})),fullWidth:!0})})]}),(0,z.jsx)(A.A,{label:"Email",value:Y.email||"",onChange:e=>X((0,a.A)((0,a.A)({},Y),{},{email:e.target.value})),fullWidth:!0}),(0,z.jsx)(A.A,{label:"Phone",value:Y.phone||"",onChange:e=>X((0,a.A)((0,a.A)({},Y),{},{phone:e.target.value})),fullWidth:!0}),(0,z.jsxs)(i.A,{container:!0,spacing:2,children:[(0,z.jsx)(i.A,{item:!0,xs:6,children:(0,z.jsx)(A.A,{select:!0,label:"Role",value:Y.role||"",onChange:e=>X((0,a.A)((0,a.A)({},Y),{},{role:e.target.value})),fullWidth:!0,children:_.map((e=>(0,z.jsx)(b.A,{value:e.value,children:e.label},e.value)))})}),(0,z.jsx)(i.A,{item:!0,xs:6,children:(0,z.jsx)(A.A,{select:!0,label:"Department",value:Y.department||"",onChange:e=>X((0,a.A)((0,a.A)({},Y),{},{department:e.target.value})),fullWidth:!0,children:G.map((e=>(0,z.jsx)(b.A,{value:e.value,children:e.label},e.value)))})})]}),(0,z.jsxs)(A.A,{select:!0,label:"Status",value:Y.status||"active",onChange:e=>X((0,a.A)((0,a.A)({},Y),{},{status:e.target.value})),fullWidth:!0,children:[(0,z.jsx)(b.A,{value:"active",children:"Active"}),(0,z.jsx)(b.A,{value:"inactive",children:"Inactive"})]})]})}),(0,z.jsxs)(v.A,{children:[(0,z.jsx)(j.A,{onClick:()=>O(!1),children:"Cancel"}),(0,z.jsx)(j.A,{onClick:()=>{const e=_.find((e=>e.value===Y.role));T(Q.id,(0,a.A)((0,a.A)({},Y),{},{fullName:"".concat(Y.firstName.trim()," ").concat(Y.lastName.trim()),initials:"".concat(Y.firstName.charAt(0)).concat(Y.lastName.charAt(0)).toUpperCase(),roleLevel:e.level,roleColor:e.color})),O(!1),q(null)},variant:"contained",children:"Save"})]})]}),(0,z.jsxs)(u.A,{open:B,onClose:()=>J(!1),maxWidth:"sm",fullWidth:!0,children:[(0,z.jsx)(m.A,{children:"Team Member Details"}),(0,z.jsx)(p.A,{children:Q&&(0,z.jsxs)(n.A,{sx:{pt:1},children:[(0,z.jsxs)(n.A,{sx:{display:"flex",alignItems:"center",gap:2,mb:3},children:[(0,z.jsx)(x.A,{sx:{bgcolor:Q.roleColor,width:64,height:64,fontSize:24},children:Q.initials}),(0,z.jsxs)(n.A,{children:[(0,z.jsx)(o.A,{variant:"h5",children:Q.fullName}),(0,z.jsx)(o.A,{variant:"body1",color:"text.secondary",children:null===(l=_.find((e=>e.value===Q.role)))||void 0===l?void 0:l.label}),(0,z.jsx)(o.A,{variant:"body2",color:"text.secondary",children:null===(t=G.find((e=>e.value===Q.department)))||void 0===t?void 0:t.label})]})]}),(0,z.jsx)(g.A,{sx:{mb:2}}),(0,z.jsxs)(i.A,{container:!0,spacing:2,children:[(0,z.jsxs)(i.A,{item:!0,xs:12,children:[(0,z.jsx)(o.A,{variant:"subtitle2",gutterBottom:!0,children:"Contact Information"}),(0,z.jsxs)(o.A,{variant:"body2",children:["Email: ",Q.email]}),Q.phone&&(0,z.jsxs)(o.A,{variant:"body2",children:["Phone: ",Q.phone]})]}),Q.notes&&(0,z.jsxs)(i.A,{item:!0,xs:12,children:[(0,z.jsx)(o.A,{variant:"subtitle2",gutterBottom:!0,children:"Notes"}),(0,z.jsx)(o.A,{variant:"body2",children:Q.notes})]}),(0,z.jsxs)(i.A,{item:!0,xs:12,children:[(0,z.jsx)(o.A,{variant:"subtitle2",gutterBottom:!0,children:"Statistics"}),(()=>{const e=he(Q.id);return(0,z.jsxs)(n.A,{children:[(0,z.jsxs)(o.A,{variant:"body2",children:["Total Tasks: ",e.total]}),(0,z.jsxs)(o.A,{variant:"body2",children:["Completed: ",e.completed]}),(0,z.jsxs)(o.A,{variant:"body2",children:["Pending: ",e.pending]}),(0,z.jsxs)(o.A,{variant:"body2",children:["Overdue: ",e.overdue]}),(0,z.jsxs)(o.A,{variant:"body2",children:["Completion Rate: ",e.completionRate,"%"]})]})})()]})]})]})}),(0,z.jsx)(v.A,{children:(0,z.jsx)(j.A,{onClick:()=>J(!1),children:"Close"})})]})]})}},34879:(e,l,t)=>{t.d(l,{A:()=>g});t(65043);var a=t(53969),r=t(55895),n=t(26529),o=t(42579),i=t(41859),s=t(24343),c=t(33699),d=t(71863),x=t(83759),h=t(8104),u=t(43900),m=t(50103),p=t(22950),A=t(63745),b=t(78916),v=t(40847),j=t(70579);const g=e=>{let{title:l,searchValue:t,onSearchChange:g,showFilters:f,onToggleFilters:y,activeFiltersCount:C,viewMode:k,onViewModeChange:w,onExport:S,onAdd:z,addButtonText:M="Add New",exportButtonText:W="Export",showAdd:F=!0,showExport:D=!0,showViewToggle:N=!0,activeFilters:T=[],onClearFilter:L}=e;return(0,j.jsxs)(a.A,{sx:{mb:3},children:[(0,j.jsxs)(a.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,flexWrap:"wrap",gap:2},children:[(0,j.jsx)(r.A,{variant:"h5",component:"h2",sx:{fontWeight:600},children:l}),(0,j.jsxs)(a.A,{sx:{display:"flex",gap:1,alignItems:"center",flexWrap:"wrap"},children:[N&&(0,j.jsxs)(a.A,{sx:{display:"flex",border:1,borderColor:"divider",borderRadius:1},children:[(0,j.jsx)(n.A,{title:"Card View",children:(0,j.jsx)(o.A,{size:"small",onClick:()=>w("card"),sx:{color:"card"===k?"primary.main":"text.secondary",backgroundColor:"card"===k?"action.selected":"transparent",borderRadius:"4px 0 0 4px"},children:(0,j.jsx)(h.A,{})})}),(0,j.jsx)(n.A,{title:"Table View",children:(0,j.jsx)(o.A,{size:"small",onClick:()=>w("table"),sx:{color:"table"===k?"primary.main":"text.secondary",backgroundColor:"table"===k?"action.selected":"transparent",borderRadius:"0 4px 4px 0"},children:(0,j.jsx)(u.A,{})})})]}),D&&(0,j.jsx)(i.A,{variant:"outlined",startIcon:(0,j.jsx)(m.A,{}),onClick:S,size:"small",children:W}),F&&(0,j.jsx)(i.A,{variant:"contained",startIcon:(0,j.jsx)(p.A,{}),onClick:z,size:"small",children:M})]})]}),(0,j.jsxs)(a.A,{sx:{display:"flex",gap:2,alignItems:"center",mb:2,flexWrap:"wrap"},children:[(0,j.jsx)(s.A,{placeholder:"Search ".concat(l.toLowerCase(),"..."),value:t,onChange:e=>g(e.target.value),size:"small",sx:{minWidth:300,flexGrow:1,maxWidth:400},InputProps:{startAdornment:(0,j.jsx)(c.A,{position:"start",children:(0,j.jsx)(A.A,{color:"action"})}),endAdornment:t&&(0,j.jsx)(c.A,{position:"end",children:(0,j.jsx)(o.A,{size:"small",onClick:()=>{g("")},edge:"end",children:(0,j.jsx)(b.A,{})})})}}),(0,j.jsx)(d.A,{badgeContent:C,color:"primary",children:(0,j.jsx)(i.A,{variant:f?"contained":"outlined",startIcon:(0,j.jsx)(v.A,{}),onClick:y,size:"small",children:"Filters"})})]}),T.length>0&&(0,j.jsxs)(a.A,{sx:{display:"flex",flexWrap:"wrap",gap:1,mb:2,alignItems:"center"},children:[(0,j.jsx)(r.A,{variant:"body2",color:"text.secondary",sx:{mr:1,alignSelf:"center"},children:"Active filters:"}),T.map(((e,l)=>(0,j.jsx)(x.A,{label:"".concat(e.label,": ").concat(e.value),size:"small",onDelete:()=>L&&L(e.key),color:"primary",variant:"outlined"},l))),T.length>1&&(0,j.jsx)(i.A,{size:"small",onClick:()=>L&&L("all"),sx:{color:"error.main",textTransform:"none",fontSize:"0.75rem",minWidth:"auto",px:1},children:"Clear All"})]})]})}},77539:(e,l,t)=>{t.d(l,{A:()=>f});t(65043);var a=t(10256),r=t(79067),n=t(84938),o=t(36196),i=t(47471),s=t(53969),c=t(83759),d=t(24343),x=t(19e3),h=t(94799),u=t(55895),m=t(41859),p=t(94527),A=t(53089),b=t(53541),v=t(24793),j=t(5984),g=t(70579);const f=e=>{let{show:l,filters:t,onFilterChange:f,onClearFilters:y,onApplyQuickFilter:C,filterConfig:k,quickFilters:w=[]}=e;const S=(e,l)=>{f(e,l)},z=e=>{const{key:l,label:x,type:h,options:u,placeholder:m}=e,p=t[l]||"";switch(h){case"select":return(0,g.jsxs)(a.A,{fullWidth:!0,size:"small",children:[(0,g.jsx)(r.A,{children:x}),(0,g.jsxs)(n.A,{value:p,onChange:e=>S(l,e.target.value),input:(0,g.jsx)(o.A,{label:x}),children:[(0,g.jsxs)(i.A,{value:"",children:["All ",x]}),u.map((e=>(0,g.jsx)(i.A,{value:e.value,children:e.label},e.value)))]})]});case"multiselect":return(0,g.jsxs)(a.A,{fullWidth:!0,size:"small",children:[(0,g.jsx)(r.A,{children:x}),(0,g.jsx)(n.A,{multiple:!0,value:Array.isArray(p)?p:[],onChange:e=>S(l,e.target.value),input:(0,g.jsx)(o.A,{label:x}),renderValue:e=>(0,g.jsx)(s.A,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:e.map((e=>{const l=u.find((l=>l.value===e));return(0,g.jsx)(c.A,{label:l?l.label:e,size:"small"},e)}))}),children:u.map((e=>(0,g.jsx)(i.A,{value:e.value,children:e.label},e.value)))})]});case"date":return(0,g.jsx)(v.$,{dateAdapter:j.h,children:(0,g.jsx)(b.l,{label:x,value:p||null,onChange:e=>S(l,e),slotProps:{textField:{size:"small",fullWidth:!0}}})});case"number":return(0,g.jsx)(d.A,{fullWidth:!0,size:"small",label:x,type:"number",value:p,onChange:e=>S(l,e.target.value),placeholder:m});default:return(0,g.jsx)(d.A,{fullWidth:!0,size:"small",label:x,value:p,onChange:e=>S(l,e.target.value),placeholder:m})}},M=()=>Object.values(t).filter((e=>Array.isArray(e)?e.length>0:e instanceof Date||""!==e&&null!==e&&void 0!==e)).length;return(0,g.jsx)(x.A,{in:l,children:(0,g.jsxs)(h.A,{sx:{p:3,mb:3,backgroundColor:"grey.50",border:1,borderColor:"divider"},children:[(0,g.jsxs)(s.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,g.jsxs)(u.A,{variant:"h6",component:"h3",children:["Filters (",M()," active)"]}),(0,g.jsx)(m.A,{variant:"outlined",size:"small",onClick:y,disabled:0===M(),children:"Clear All"})]}),w.length>0&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(u.A,{variant:"subtitle2",sx:{mb:1,fontWeight:600},children:"Quick Filters"}),(0,g.jsx)(s.A,{sx:{display:"flex",flexWrap:"wrap",gap:1,mb:2},children:w.map((e=>(0,g.jsx)(c.A,{label:e.label,onClick:()=>C(e),variant:"outlined",size:"small",sx:{"&:hover":{backgroundColor:"primary.light",color:"white"}}},e.key)))}),(0,g.jsx)(p.A,{sx:{mb:2}})]}),(0,g.jsx)(A.A,{container:!0,spacing:2,children:k.map((e=>(0,g.jsx)(A.A,{item:!0,xs:12,sm:6,md:4,children:z(e)},e.key)))}),M()>0&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(p.A,{sx:{my:2}}),(0,g.jsx)(u.A,{variant:"subtitle2",sx:{mb:1,fontWeight:600},children:"Active Filters"}),(0,g.jsx)(s.A,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:Object.entries(t).map((e=>{let[l,t]=e;if(Array.isArray(t)&&0===t.length)return null;if(!t||""===t)return null;const a=k.find((e=>e.key===l));if(!a)return null;let r=t;if(Array.isArray(t))r=t.map((e=>{var l;const t=null===(l=a.options)||void 0===l?void 0:l.find((l=>l.value===e));return t?t.label:e})).join(", ");else if(a.options){const e=a.options.find((e=>e.value===t));r=e?e.label:t}else t instanceof Date&&(r=t.toLocaleDateString());return(0,g.jsx)(c.A,{label:"".concat(a.label,": ").concat(r),onDelete:()=>(e=>{f(e,"")})(l),color:"primary",variant:"outlined",size:"small"},l)})).filter(Boolean)})]})]})})}}}]);
//# sourceMappingURL=537.06c05d97.chunk.js.map