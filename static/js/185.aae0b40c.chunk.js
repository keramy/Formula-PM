"use strict";(self.webpackChunkformula_project_app=self.webpackChunkformula_project_app||[]).push([[185],{5362:(e,r,l)=>{l.d(r,{A:()=>n});var o=l(99992),t=l(70579);const n=(0,o.A)((0,t.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")},7762:(e,r,l)=>{l.d(r,{A:()=>n});var o=l(99992),t=l(70579);const n=(0,o.A)((0,t.jsx)("path",{d:"M22 11V3h-7v3H9V3H2v8h7V8h2v10h4v3h7v-8h-7v3h-2V8h2v3z"}),"AccountTree")},50185:(e,r,l)=>{l.r(r),l.d(r,{default:()=>W});var o=l(65043),t=l(53969),n=l(55895),a=l(94799),i=l(28259),c=l(87443),s=l(10756),d=l(86172),h=l(81341),x=l(41778),b=l(34375),j=l(33539),A=l(83759),m=l(26020),g=l(42579),u=l(62055),p=l(47471),f=l(79801),v=l(66185),C=l(70923),y=l(90160),k=l(63898),S=l(12043),w=l(3665),z=l(61773),M=l(7762),E=l(5362),D=l(70579);const W=e=>{let{projects:r=[],clients:l=[],teamMembers:W=[],onEditProject:V,onDeleteProject:F,onViewProject:H,onManageScope:P}=e;const[I,N]=(0,o.useState)("name"),[B,T]=(0,o.useState)("asc"),[O,_]=(0,o.useState)(null),[L,R]=(0,o.useState)(null),U=e=>{const r=l.find((r=>r.id===e));return r?r.companyName:"No Client Assigned"},G=e=>{const r=W.find((r=>r.id===e));return r?r.fullName:"Unassigned"},q=e=>{if(!e)return"Not set";return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})},J=o.useMemo((()=>[...r].sort(((e,r)=>{let l=e[I],o=r[I];return"client"===I&&(l=U(e.clientId),o=U(r.clientId)),"manager"===I&&(l=G(e.projectManager),o=G(r.projectManager)),l<o?"asc"===B?-1:1:l>o?"asc"===B?1:-1:0}))),[r,I,B,l,W]),K=()=>{_(null),R(null)},Q=e=>{if(L)switch(e){case"view":H&&H(L);break;case"edit":V&&V(L);break;case"scope":P&&P(L);break;case"delete":window.confirm('Are you sure you want to delete "'.concat(L.name,'"?'))&&F&&F(L.id)}K()};return 0===r.length?(0,D.jsxs)(t.A,{sx:{textAlign:"center",py:8,backgroundColor:"white",borderRadius:2,border:"1px solid #E9ECEF"},children:[(0,D.jsx)(C.A,{sx:{fontSize:64,color:"#BDC3C7",mb:2}}),(0,D.jsx)(n.A,{variant:"h6",color:"textSecondary",gutterBottom:!0,children:"No Projects Found"}),(0,D.jsx)(n.A,{variant:"body2",color:"textSecondary",children:"Start by creating your first project or adjust your search filters."})]}):(0,D.jsxs)(a.A,{elevation:0,sx:{width:"100%",overflow:"hidden",border:"1px solid #E9ECEF",borderRadius:2},children:[(0,D.jsx)(i.A,{sx:{maxHeight:600},children:(0,D.jsxs)(c.A,{stickyHeader:!0,children:[(0,D.jsx)(s.A,{children:(0,D.jsx)(d.A,{children:[{id:"name",label:"Project Name",sortable:!0,minWidth:200},{id:"client",label:"Client",sortable:!0,minWidth:150},{id:"type",label:"Type",sortable:!0,minWidth:130},{id:"status",label:"Status",sortable:!0,minWidth:120},{id:"manager",label:"Manager",sortable:!0,minWidth:150},{id:"startDate",label:"Start Date",sortable:!0,minWidth:120},{id:"endDate",label:"End Date",sortable:!0,minWidth:120},{id:"progress",label:"Progress",sortable:!1,minWidth:120},{id:"actions",label:"Actions",sortable:!1,minWidth:80}].map((e=>(0,D.jsx)(h.A,{sx:{minWidth:e.minWidth,backgroundColor:"#F8F9FA",fontWeight:600,color:"#2C3E50"},children:e.sortable?(0,D.jsx)(x.A,{active:I===e.id,direction:I===e.id?B:"asc",onClick:()=>{return r=e.id,T(I===r&&"asc"===B?"desc":"asc"),void N(r);var r},children:e.label}):e.label},e.id)))})}),(0,D.jsx)(b.A,{children:J.map((e=>{const r=(e=>{const r={"on-tender":{label:"On Tender",color:"#3498db",bgColor:"#ebf3fd"},awarded:{label:"Awarded",color:"#27ae60",bgColor:"#eafaf1"},"on-hold":{label:"On Hold",color:"#f39c12",bgColor:"#fef9e7"},"not-awarded":{label:"Not Awarded",color:"#e74c3c",bgColor:"#fdedec"},active:{label:"Active",color:"#9b59b6",bgColor:"#f4ecf7"},completed:{label:"Completed",color:"#2c3e50",bgColor:"#eaeded"}};return r[e]||r["on-tender"]})(e.status),l=(e=>{const r={"general-contractor":{label:"General Contractor",color:"#e67e22"},"fit-out":{label:"Fit-out",color:"#e67e22"},mep:{label:"MEP",color:"#1abc9c"},electrical:{label:"Electrical",color:"#f1c40f"},millwork:{label:"Millwork",color:"#8e44ad"},management:{label:"Management",color:"#37444B"}};return r[e]||r["general-contractor"]})(e.type),o=Math.floor(100*Math.random());return(0,D.jsxs)(d.A,{hover:!0,sx:{"&:hover":{backgroundColor:"#F8F9FA"}},children:[(0,D.jsx)(h.A,{children:(0,D.jsxs)(t.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,D.jsx)(j.A,{sx:{width:32,height:32,backgroundColor:l.color,fontSize:"0.8rem",fontWeight:600},children:e.name.substring(0,2).toUpperCase()}),(0,D.jsx)(t.A,{children:(0,D.jsx)(n.A,{variant:"body2",sx:{fontWeight:600,color:"#3498db",cursor:"pointer",textDecoration:"none","&:hover":{textDecoration:"underline",color:"#2980b9"}},onClick:()=>P&&P(e),children:e.name})})]})}),(0,D.jsx)(h.A,{children:(0,D.jsxs)(t.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,D.jsx)(C.A,{fontSize:"small",color:"action"}),(0,D.jsx)(n.A,{variant:"body2",children:U(e.clientId)})]})}),(0,D.jsx)(h.A,{children:(0,D.jsx)(A.A,{label:l.label,size:"small",sx:{backgroundColor:"".concat(l.color,"15"),color:l.color,fontWeight:500,border:"1px solid ".concat(l.color,"30")}})}),(0,D.jsx)(h.A,{children:(0,D.jsx)(A.A,{label:r.label,size:"small",sx:{backgroundColor:r.bgColor,color:r.color,fontWeight:500}})}),(0,D.jsx)(h.A,{children:(0,D.jsxs)(t.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,D.jsx)(y.A,{fontSize:"small",color:"action"}),(0,D.jsx)(n.A,{variant:"body2",children:G(e.projectManager)})]})}),(0,D.jsx)(h.A,{children:(0,D.jsxs)(t.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,D.jsx)(k.A,{fontSize:"small",color:"action"}),(0,D.jsx)(n.A,{variant:"body2",children:q(e.startDate)})]})}),(0,D.jsx)(h.A,{children:(0,D.jsxs)(t.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,D.jsx)(k.A,{fontSize:"small",color:"action"}),(0,D.jsx)(n.A,{variant:"body2",children:q(e.endDate)})]})}),(0,D.jsx)(h.A,{children:(0,D.jsx)(t.A,{sx:{display:"flex",alignItems:"center",gap:1},children:(0,D.jsxs)(t.A,{sx:{width:"100%"},children:[(0,D.jsx)(m.A,{variant:"determinate",value:o,sx:{height:6,borderRadius:3,backgroundColor:"#E0E0E0","& .MuiLinearProgress-bar":{backgroundColor:o>75?"#27AE60":o>50?"#F39C12":o>25?"#3498DB":"#E74C3C"}}}),(0,D.jsxs)(n.A,{variant:"caption",color:"textSecondary",children:[o,"%"]})]})})}),(0,D.jsx)(h.A,{children:(0,D.jsx)(g.A,{size:"small",onClick:r=>((e,r)=>{_(e.currentTarget),R(r)})(r,e),children:(0,D.jsx)(S.A,{})})})]},e.id)}))})]})}),(0,D.jsxs)(u.A,{anchorEl:O,open:Boolean(O),onClose:K,transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[(0,D.jsxs)(p.A,{onClick:()=>Q("view"),children:[(0,D.jsx)(f.A,{children:(0,D.jsx)(w.A,{fontSize:"small"})}),(0,D.jsx)(v.A,{children:"View Details"})]}),(0,D.jsxs)(p.A,{onClick:()=>Q("edit"),children:[(0,D.jsx)(f.A,{children:(0,D.jsx)(z.A,{fontSize:"small"})}),(0,D.jsx)(v.A,{children:"Edit Project"})]}),(0,D.jsxs)(p.A,{onClick:()=>Q("scope"),children:[(0,D.jsx)(f.A,{children:(0,D.jsx)(M.A,{fontSize:"small"})}),(0,D.jsx)(v.A,{children:"Manage Scope"})]}),(0,D.jsxs)(p.A,{onClick:()=>Q("delete"),sx:{color:"error.main"},children:[(0,D.jsx)(f.A,{children:(0,D.jsx)(E.A,{fontSize:"small",color:"error"})}),(0,D.jsx)(v.A,{children:"Delete Project"})]})]})]})}},61773:(e,r,l)=>{l.d(r,{A:()=>n});var o=l(99992),t=l(70579);const n=(0,o.A)((0,t.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")},63898:(e,r,l)=>{l.d(r,{A:()=>n});var o=l(99992),t=l(70579);const n=(0,o.A)((0,t.jsx)("path",{d:"M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 18H4V8h16z"}),"CalendarToday")}}]);
//# sourceMappingURL=185.aae0b40c.chunk.js.map