"use strict";(self.webpackChunkformula_project_app=self.webpackChunkformula_project_app||[]).push([[145],{4145:(e,t,o)=>{o.r(t),o.d(t,{default:()=>N});var r=o(89379),n=o(65043),i=o(53969),s=o(53089),l=o(91244),a=o(16128),c=o(55895),d=o(94799),x=o(28259),h=o(87443),p=o(10756),u=o(86172),m=o(81341),A=o(34375),g=o(83759),j=o(42579),y=o(38517),f=o(81911),b=o(78776),C=o(70916),E=o(56803),F=o(37305),v=o(91658),S=o(22950),w=o(61773),k=o(5362),P=o(82058),I=o(49361),D=o(41859),W=o(26020),q=o(95315),T=o(57401),z=o(66185),R=o(85877),B=o(51697),U=o(70579);const _=e=>{let{open:t,onClose:o,onImport:r,categories:s}=e;const[l,a]=(0,n.useState)(null),[d,x]=(0,n.useState)(!1),[h,p]=(0,n.useState)([]),[u,m]=(0,n.useState)(""),A=()=>{a(null),p([]),m(""),x(!1),o()};return(0,U.jsxs)(y.A,{open:t,onClose:A,maxWidth:"md",fullWidth:!0,children:[(0,U.jsx)(f.A,{children:"Import Scope Items from Excel"}),(0,U.jsxs)(b.A,{children:[(0,U.jsxs)(i.A,{sx:{border:"2px dashed #E9ECEF",borderRadius:2,p:4,textAlign:"center",backgroundColor:"#F8F9FA",mb:3},children:[(0,U.jsx)("input",{accept:".xlsx,.xls,.csv",style:{display:"none"},id:"excel-upload",type:"file",onChange:e=>{const t=e.target.files[0];t&&(a(t),m(""),p([{description:"Drywall Installation",quantity:500,unitPrice:15.5,unit:"sqm",category:"Millwork & Carpentry"},{description:"Electrical Outlets",quantity:25,unitPrice:45,unit:"pcs",category:"Electrical Systems"}]))}}),(0,U.jsx)("label",{htmlFor:"excel-upload",children:(0,U.jsx)(D.A,{variant:"contained",component:"span",startIcon:(0,U.jsx)(B.A,{}),sx:{borderRadius:"20px",textTransform:"none",fontWeight:600,mb:2},children:"Select Excel File"})}),l&&(0,U.jsxs)(c.A,{variant:"body2",sx:{color:"#27AE60",mb:2},children:["Selected: ",l.name]}),(0,U.jsx)(c.A,{variant:"caption",display:"block",color:"textSecondary",children:"Supported formats: .xlsx, .xls, .csv"}),(0,U.jsx)(c.A,{variant:"caption",display:"block",color:"textSecondary",sx:{mt:1},children:"Required columns: Description, Quantity, Unit Price, Unit, Category"})]}),u&&(0,U.jsx)(E.A,{severity:"error",sx:{mb:3},children:u}),d&&(0,U.jsxs)(i.A,{sx:{mb:3},children:[(0,U.jsx)(c.A,{variant:"body2",gutterBottom:!0,children:"Importing scope items..."}),(0,U.jsx)(W.A,{})]}),h.length>0&&!d&&(0,U.jsxs)(i.A,{sx:{mb:3},children:[(0,U.jsxs)(c.A,{variant:"h6",gutterBottom:!0,children:["Preview (",h.length," items)"]}),(0,U.jsxs)(q.A,{dense:!0,children:[h.slice(0,5).map(((e,t)=>(0,U.jsx)(T.Ay,{divider:!0,children:(0,U.jsx)(z.A,{primary:e.description,secondary:"".concat(e.quantity," ").concat(e.unit," \xd7 $").concat(e.unitPrice," = $").concat((e.quantity*e.unitPrice).toLocaleString())})},t))),h.length>5&&(0,U.jsx)(T.Ay,{children:(0,U.jsx)(z.A,{primary:"... and ".concat(h.length-5," more items")})})]})]})]}),(0,U.jsxs)(R.A,{children:[(0,U.jsx)(D.A,{onClick:A,disabled:d,sx:{borderRadius:"20px",textTransform:"none",fontWeight:600},children:"Cancel"}),(0,U.jsx)(D.A,{onClick:async()=>{if(l&&0!==h.length){x(!0);try{await new Promise((e=>setTimeout(e,2e3))),r(h),A()}catch(u){m("Failed to import items")}finally{x(!1)}}else m("Please select a valid Excel file")},variant:"contained",disabled:!l||0===h.length||d,sx:{borderRadius:"20px",textTransform:"none",fontWeight:600,backgroundColor:"#27AE60","&:hover":{backgroundColor:"#229954"}},children:d?"Importing...":"Import ".concat(h.length," Items")})]})]})};var M=o(31095),L=o(66866);const N=e=>{let{project:t,onClose:o}=e;const[D,W]=(0,n.useState)([]),[q,T]=(0,n.useState)(!0),[z,R]=(0,n.useState)(!1),[B,N]=(0,n.useState)(!1),[$,H]=(0,n.useState)(null),[O,Q]=(0,n.useState)({open:!1,message:"",severity:"success"}),G=["Demolition","Structural Work","MEP (Mechanical, Electrical, Plumbing)","Millwork & Carpentry","Flooring & Tiling","Painting & Finishing","Glass & Glazing","Hardware & Accessories","Insulation","Waterproofing","HVAC Systems","Electrical Systems","Fire Safety","Security Systems","General Contractor Items"];(0,n.useEffect)((()=>{V()}),[t.id]);const V=async()=>{try{T(!0);const e=await M.default.getScopeItems(t.id);W(e||[])}catch(e){console.error("Error loading scope items:",e),K("Failed to load scope items","error")}finally{T(!1)}},K=function(e){Q({open:!0,message:e,severity:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success"})},Y=D.length,J=D.reduce(((e,t)=>e+(parseFloat(t.quantity)||0)),0),X=D.reduce(((e,t)=>e+(t.totalPrice||0)),0);return(0,U.jsx)(L.A,{pageType:"project-scope",pageTitle:"Scope Management",pageData:{projectId:t.id,projectName:t.name,status:t.status,type:t.type},subtitle:"".concat(Y," items \u2022 $").concat(X.toLocaleString()," total value"),actions:[{icon:(0,U.jsx)(F.A,{}),label:"Download Template",onClick:()=>{const e=[["Description","Category","Quantity","Unit","Unit Price","Notes"],["Example: Install Kitchen Cabinets","Millwork & Carpentry","10","sqft","150","Premium oak finish"],["Example: Electrical Wiring","Electrical Systems","500","lft","12","Include outlets and switches"],["Example: Flooring Installation","Flooring & Tiling","200","sqft","45","Hardwood flooring"]].map((e=>e.map((e=>'"'.concat(e,'"'))).join(","))).join("\n"),o=new Blob([e],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a");if(void 0!==r.download){const e=URL.createObjectURL(o);r.setAttribute("href",e),r.setAttribute("download","scope_items_template_".concat(t.name.replace(/\s+/g,"_"),".csv")),r.style.visibility="hidden",document.body.appendChild(r),r.click(),document.body.removeChild(r),K("Excel template downloaded successfully")}},color:"success"},{icon:(0,U.jsx)(v.A,{}),label:"Import Excel",onClick:()=>N(!0),color:"default"},{icon:(0,U.jsx)(S.A,{}),label:"Add Item",onClick:()=>R(!0),color:"primary"}],onNavigate:e=>{"/projects"===e&&o()},contentPadding:0,children:(0,U.jsxs)(i.A,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[(0,U.jsx)(i.A,{sx:{p:3},children:(0,U.jsxs)(s.A,{container:!0,spacing:3,children:[(0,U.jsx)(s.A,{item:!0,xs:12,md:4,children:(0,U.jsx)(l.A,{sx:{borderRadius:3,border:"1px solid #E9ECEF",boxShadow:"none"},children:(0,U.jsxs)(a.A,{sx:{textAlign:"center",py:3},children:[(0,U.jsx)(i.A,{sx:{width:60,height:60,backgroundColor:"#3498DB",borderRadius:2,display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px"},children:(0,U.jsx)(c.A,{variant:"h4",sx:{color:"white",fontWeight:"bold"},children:"\ud83d\udccb"})}),(0,U.jsx)(c.A,{variant:"h3",sx:{fontWeight:"bold",color:"#2C3E50",mb:1},children:Y}),(0,U.jsx)(c.A,{variant:"body1",color:"textSecondary",children:"Total Items"})]})})}),(0,U.jsx)(s.A,{item:!0,xs:12,md:4,children:(0,U.jsx)(l.A,{sx:{borderRadius:3,border:"1px solid #E9ECEF",boxShadow:"none"},children:(0,U.jsxs)(a.A,{sx:{textAlign:"center",py:3},children:[(0,U.jsx)(i.A,{sx:{width:60,height:60,backgroundColor:"#27AE60",borderRadius:2,display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px"},children:(0,U.jsx)(c.A,{variant:"h4",sx:{color:"white",fontWeight:"bold"},children:"\ud83d\udcca"})}),(0,U.jsx)(c.A,{variant:"h3",sx:{fontWeight:"bold",color:"#2C3E50",mb:1},children:J.toFixed(0)}),(0,U.jsx)(c.A,{variant:"body1",color:"textSecondary",children:"Total Quantity"})]})})}),(0,U.jsx)(s.A,{item:!0,xs:12,md:4,children:(0,U.jsx)(l.A,{sx:{borderRadius:3,border:"1px solid #E9ECEF",boxShadow:"none"},children:(0,U.jsxs)(a.A,{sx:{textAlign:"center",py:3},children:[(0,U.jsx)(i.A,{sx:{width:60,height:60,backgroundColor:"#F39C12",borderRadius:2,display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px"},children:(0,U.jsx)(c.A,{variant:"h4",sx:{color:"white",fontWeight:"bold"},children:"\ud83d\udcb0"})}),(0,U.jsxs)(c.A,{variant:"h3",sx:{fontWeight:"bold",color:"#2C3E50",mb:1},children:["$",X.toLocaleString()]}),(0,U.jsx)(c.A,{variant:"body1",color:"textSecondary",children:"Total Value"})]})})})]})}),(0,U.jsx)(i.A,{sx:{flexGrow:1,mx:3,mb:3},children:(0,U.jsx)(d.A,{sx:{borderRadius:3,border:"1px solid #E9ECEF",boxShadow:"none",overflow:"hidden"},children:(0,U.jsx)(x.A,{sx:{maxHeight:"calc(100vh - 400px)"},children:(0,U.jsxs)(h.A,{stickyHeader:!0,children:[(0,U.jsx)(p.A,{children:(0,U.jsxs)(u.A,{children:[(0,U.jsx)(m.A,{sx:{fontWeight:600,backgroundColor:"#F8F9FA"},children:"Category"}),(0,U.jsx)(m.A,{sx:{fontWeight:600,backgroundColor:"#F8F9FA"},children:"Description"}),(0,U.jsx)(m.A,{sx:{fontWeight:600,backgroundColor:"#F8F9FA"},children:"Unit"}),(0,U.jsx)(m.A,{sx:{fontWeight:600,backgroundColor:"#F8F9FA"},children:"Quantity"}),(0,U.jsx)(m.A,{sx:{fontWeight:600,backgroundColor:"#F8F9FA"},children:"Unit Price"}),(0,U.jsx)(m.A,{sx:{fontWeight:600,backgroundColor:"#F8F9FA"},children:"Total"}),(0,U.jsx)(m.A,{sx:{fontWeight:600,backgroundColor:"#F8F9FA"},children:"Actions"})]})}),(0,U.jsx)(A.A,{children:0===D.length?(0,U.jsx)(u.A,{children:(0,U.jsx)(m.A,{colSpan:7,sx:{textAlign:"center",py:8},children:(0,U.jsx)(c.A,{variant:"h6",color:"textSecondary",gutterBottom:!0,children:'No scope items found. Click "Add Item" to get started.'})})}):D.map((e=>(0,U.jsxs)(u.A,{hover:!0,children:[(0,U.jsx)(m.A,{children:(0,U.jsx)(g.A,{label:e.category||"Uncategorized",size:"small",sx:{backgroundColor:"#E3F2FD",color:"#1976D2"}})}),(0,U.jsxs)(m.A,{children:[(0,U.jsx)(c.A,{variant:"body2",sx:{fontWeight:500},children:e.description}),e.notes&&(0,U.jsx)(c.A,{variant:"caption",color:"textSecondary",children:e.notes})]}),(0,U.jsx)(m.A,{children:e.unit||"pcs"}),(0,U.jsx)(m.A,{children:e.quantity}),(0,U.jsxs)(m.A,{children:["$",parseFloat(e.unitPrice||0).toLocaleString()]}),(0,U.jsx)(m.A,{children:(0,U.jsxs)(c.A,{variant:"body2",sx:{fontWeight:600},children:["$",(e.totalPrice||0).toLocaleString()]})}),(0,U.jsx)(m.A,{children:(0,U.jsxs)(i.A,{sx:{display:"flex",gap:1},children:[(0,U.jsx)(j.A,{size:"small",onClick:()=>H(e),sx:{color:"#3498DB"},children:(0,U.jsx)(w.A,{fontSize:"small"})}),(0,U.jsx)(j.A,{size:"small",onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this scope item?"))try{await M.default.deleteScopeItem(e),W(D.filter((t=>t.id!==e))),K("Scope item deleted successfully")}catch(t){console.error("Error deleting scope item:",t),K("Failed to delete scope item","error")}})(e.id),sx:{color:"#E74C3C"},children:(0,U.jsx)(k.A,{fontSize:"small"})}),e.attachments&&(0,U.jsx)(j.A,{size:"small",sx:{color:"#95A5A6"},children:(0,U.jsx)(P.A,{fontSize:"small"})})]})})]},e.id)))})]})})})}),(0,U.jsxs)(y.A,{open:z||!!$,onClose:()=>{R(!1),H(null)},maxWidth:"md",fullWidth:!0,children:[(0,U.jsx)(f.A,{children:$?"Edit Scope Item":"Add New Scope Item"}),(0,U.jsx)(b.A,{children:(0,U.jsx)(I.A,{item:$,categories:G,onSubmit:$?async e=>{try{const t=(0,r.A)((0,r.A)({},e),{},{totalPrice:parseFloat(e.quantity)*parseFloat(e.unitPrice),updatedAt:(new Date).toISOString()});await M.default.updateScopeItem($.id,t),W(D.map((e=>e.id===$.id?t:e))),H(null),K("Scope item updated successfully")}catch(t){console.error("Error updating scope item:",t),K("Failed to update scope item","error")}}:async e=>{try{const o=(0,r.A)((0,r.A)({},e),{},{id:Date.now(),projectId:t.id,createdAt:(new Date).toISOString(),totalPrice:parseFloat(e.quantity)*parseFloat(e.unitPrice)});await M.default.createScopeItem(o),W([...D,o]),R(!1),K("Scope item added successfully")}catch(o){console.error("Error adding scope item:",o),K("Failed to add scope item","error")}},onCancel:()=>{R(!1),H(null)}})})]}),(0,U.jsx)(_,{open:B,onClose:()=>N(!1),onImport:async e=>{try{const o=e.map((e=>(0,r.A)((0,r.A)({},e),{},{id:Date.now()+Math.random(),projectId:t.id,createdAt:(new Date).toISOString(),totalPrice:parseFloat(e.quantity||0)*parseFloat(e.unitPrice||0)})));for(const e of o)await M.default.createScopeItem(e);W([...D,...o]),N(!1),K("Successfully imported ".concat(o.length," scope items"))}catch(o){console.error("Error importing scope items:",o),K("Failed to import scope items","error")}},categories:G}),(0,U.jsx)(C.A,{open:O.open,autoHideDuration:6e3,onClose:()=>Q((0,r.A)((0,r.A)({},O),{},{open:!1})),children:(0,U.jsx)(E.A,{onClose:()=>Q((0,r.A)((0,r.A)({},O),{},{open:!1})),severity:O.severity,sx:{width:"100%"},children:O.message})})]})})}},49361:(e,t,o)=>{o.d(t,{A:()=>g});var r=o(89379),n=o(65043),i=o(53969),s=o(24343),l=o(33699),a=o(10256),c=o(79067),d=o(84938),x=o(47471),h=o(94799),p=o(55895),u=o(41859),m=o(82058),A=o(70579);const g=e=>{let{item:t,categories:o,onSubmit:g,onCancel:j}=e;const[y,f]=(0,n.useState)({description:"",quantity:"",unitPrice:"",unit:"pcs",category:"",notes:"",attachments:null}),[b,C]=(0,n.useState)(0);(0,n.useEffect)((()=>{t&&f({description:t.description||"",quantity:t.quantity||"",unitPrice:t.unitPrice||"",unit:t.unit||"pcs",category:t.category||"",notes:t.notes||"",attachments:t.attachments||null})}),[t]),(0,n.useEffect)((()=>{const e=parseFloat(y.quantity)||0,t=parseFloat(y.unitPrice)||0;C(e*t)}),[y.quantity,y.unitPrice]);const E=e=>t=>{f((0,r.A)((0,r.A)({},y),{},{[e]:t.target.value}))};return(0,A.jsx)(i.A,{component:"form",onSubmit:e=>{e.preventDefault(),y.description.trim()?!y.quantity||parseFloat(y.quantity)<=0?alert("Please enter a valid quantity"):!y.unitPrice||parseFloat(y.unitPrice)<=0?alert("Please enter a valid unit price"):g(y):alert("Please enter a description")},sx:{mt:2},children:(0,A.jsxs)(i.A,{sx:{display:"flex",flexDirection:"column",gap:3},children:[(0,A.jsx)(s.A,{fullWidth:!0,label:"1. Description",required:!0,value:y.description,onChange:E("description"),placeholder:"Enter item description...",InputProps:{startAdornment:(0,A.jsx)(l.A,{position:"start",children:"\ud83d\udcdd"})}}),(0,A.jsxs)(a.A,{fullWidth:!0,children:[(0,A.jsx)(c.A,{children:"2. Category"}),(0,A.jsxs)(d.A,{value:y.category,onChange:E("category"),label:"2. Category",displayEmpty:!0,children:[(0,A.jsx)(x.A,{value:"",children:(0,A.jsx)("em",{children:"Select Category"})}),o.map((e=>(0,A.jsx)(x.A,{value:e,children:e},e)))]})]}),(0,A.jsx)(s.A,{fullWidth:!0,label:"3. Quantity",required:!0,type:"number",value:y.quantity,onChange:E("quantity"),inputProps:{step:"any",min:0},InputProps:{startAdornment:(0,A.jsx)(l.A,{position:"start",children:"\ud83d\udcca"})}}),(0,A.jsxs)(a.A,{fullWidth:!0,children:[(0,A.jsx)(c.A,{children:"4. Unit"}),(0,A.jsx)(d.A,{value:y.unit,onChange:E("unit"),label:"4. Unit",children:["pcs","sqm","sqft","lm","lft","m","ft","kg","lb","ton","hours","days","lot"].map((e=>(0,A.jsx)(x.A,{value:e,children:e},e)))})]}),(0,A.jsx)(s.A,{fullWidth:!0,label:"5. Unit Price",required:!0,type:"number",value:y.unitPrice,onChange:E("unitPrice"),inputProps:{step:"any",min:0},InputProps:{startAdornment:(0,A.jsx)(l.A,{position:"start",children:"\ud83d\udcb0 $"})}}),(0,A.jsx)(h.A,{sx:{p:3,backgroundColor:"#F8F9FA",border:"2px solid #27AE60",borderRadius:2},children:(0,A.jsxs)(p.A,{variant:"h5",sx:{color:"#27AE60",fontWeight:700,textAlign:"center"},children:["Total Price: $",b.toLocaleString()]})}),(0,A.jsx)(s.A,{fullWidth:!0,label:"6. Notes (Optional)",multiline:!0,rows:3,value:y.notes,onChange:E("notes"),placeholder:"Additional notes or specifications...",InputProps:{startAdornment:(0,A.jsx)(l.A,{position:"start",sx:{alignSelf:"flex-start",mt:1},children:"\ud83d\udccb"})}}),(0,A.jsxs)(i.A,{children:[(0,A.jsx)(p.A,{variant:"h6",sx:{mb:2,fontWeight:600,color:"#2C3E50"},children:"7. File Attachments (Optional)"}),(0,A.jsxs)(i.A,{sx:{border:"2px dashed #E9ECEF",borderRadius:2,p:3,textAlign:"center",backgroundColor:"#F8F9FA"},children:[(0,A.jsx)("input",{accept:"*/*",style:{display:"none"},id:"file-upload",type:"file",onChange:e=>{const t=e.target.files[0];t&&f((0,r.A)((0,r.A)({},y),{},{attachments:t.name}))}}),(0,A.jsx)("label",{htmlFor:"file-upload",children:(0,A.jsx)(u.A,{variant:"outlined",component:"span",startIcon:(0,A.jsx)(m.A,{}),sx:{borderRadius:"20px",textTransform:"none",fontWeight:600},children:"\ud83d\udcce Choose File"})}),y.attachments&&(0,A.jsxs)(p.A,{variant:"body2",sx:{mt:1,color:"#27AE60"},children:["\u2705 Attached: ",y.attachments]}),(0,A.jsx)(p.A,{variant:"caption",display:"block",sx:{mt:1,color:"#6C757D"},children:"Upload specifications, drawings, or other relevant files"})]})]}),(0,A.jsxs)(i.A,{sx:{display:"flex",justifyContent:"flex-end",gap:2,mt:4,pt:3,borderTop:"1px solid #E9ECEF"},children:[(0,A.jsx)(u.A,{variant:"outlined",onClick:j,sx:{borderRadius:"20px",textTransform:"none",fontWeight:600,px:4},children:"Cancel"}),(0,A.jsx)(u.A,{type:"submit",variant:"contained",sx:{borderRadius:"20px",textTransform:"none",fontWeight:600,backgroundColor:"#27AE60",px:4,"&:hover":{backgroundColor:"#229954"}},children:t?"\u2705 Update Item":"\u2795 Add Item"})]})]})})}},66866:(e,t,o)=>{o.d(t,{A:()=>k});var r=o(65043),n=o(53969),i=o(60267),s=o(86995),l=o(94799),a=o(42579),c=o(65749),d=o(55895),x=o(31202),h=o(26529),p=o(83759),u=o(32306),m=o(70923),A=o(61773),g=o(26582),j=o(5362),y=o(58315),f=o(51087),b=o(27601),C=o(96659),E=o(53724),F=o(70579);const v=e=>({completed:"#27AE60",active:"#8E44AD","in-progress":"#F39C12",in_progress:"#F39C12",pending:"#3498DB","on-hold":"#E67E22",on_hold:"#E67E22",cancelled:"#E74C3C",awarded:"#27AE60","on-tender":"#3498DB",on_tender:"#3498DB","not-awarded":"#E74C3C",not_awarded:"#E74C3C"}[null===e||void 0===e?void 0:e.toLowerCase()]||"#95A5A6"),S=e=>{let{currentPath:t=[],onNavigate:o,title:r,subtitle:S,itemType:w,itemId:k,itemData:P={},actions:I=[],onEdit:D,onDelete:W,onShare:q,showMoreActions:T=!1,isStarred:z=!1,onToggleStar:R,showBackButton:B=!0,backgroundColor:U="white",elevation:_=0}=e;const M=(0,i.A)(),L=(0,s.A)(M.breakpoints.down("md")),N=(()=>{const e=[{label:"Formula PM",icon:(0,F.jsx)(u.A,{sx:{fontSize:16}}),href:"/",onClick:()=>o&&o("/")},{label:"Team Space",icon:(0,F.jsx)(m.A,{sx:{fontSize:16}}),href:"/dashboard",onClick:()=>o&&o("/dashboard")}];return t.forEach(((r,n)=>{e.push({label:r.label,href:r.href,onClick:()=>o&&o(r.href),isLast:n===t.length-1})})),e})(),$=[...I||[],...D?[{icon:(0,F.jsx)(A.A,{}),label:"Edit",onClick:D,color:"primary"}]:[],...q?[{icon:(0,F.jsx)(g.A,{}),label:"Share",onClick:q,color:"default"}]:[],...W?[{icon:(0,F.jsx)(j.A,{}),label:"Delete",onClick:W,color:"error"}]:[]];return(0,F.jsxs)(l.A,{elevation:_,sx:{backgroundColor:U,borderBottom:"1px solid #E9ECEF",px:{xs:2,md:4},py:3,borderRadius:0},children:[L&&B&&(0,F.jsx)(n.A,{sx:{mb:2},children:(0,F.jsx)(a.A,{onClick:()=>{if(t.length>0){const e=t[t.length-1];o&&e.href?o(e.href):window.history.back()}else window.history.back()},size:"small",sx:{color:"#7F8C8D","&:hover":{color:"#2C3E50"}},children:(0,F.jsx)(y.A,{})})}),!L&&(0,F.jsx)(c.A,{separator:(0,F.jsx)(f.A,{fontSize:"small"}),sx:{mb:2,fontSize:"0.875rem","& .MuiBreadcrumbs-separator":{color:"#7F8C8D"}},children:N.map(((e,t)=>t===N.length-1?(0,F.jsxs)(d.A,{color:"text.primary",fontWeight:500,sx:{color:"#2C3E50",display:"flex",alignItems:"center",gap:.5},children:[e.icon,e.label]},t):(0,F.jsxs)(x.A,{underline:"hover",color:"inherit",href:e.href||"#",onClick:t=>{t.preventDefault(),e.onClick&&e.onClick()},sx:{display:"flex",alignItems:"center",gap:.5,color:"#7F8C8D",cursor:"pointer","&:hover":{color:"#2C3E50"}},children:[e.icon,e.label]},t)))}),(0,F.jsxs)(n.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:{xs:"flex-start",md:"center"},flexDirection:{xs:"column",md:"row"},gap:{xs:2,md:0}},children:[(0,F.jsxs)(n.A,{sx:{display:"flex",alignItems:"center",gap:2,flex:1},children:[(0,F.jsxs)(n.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,F.jsx)(d.A,{variant:"h4",sx:{fontWeight:700,color:"#2C3E50",fontSize:{xs:"1.5rem",md:"1.75rem"}},children:r}),R&&(0,F.jsx)(h.A,{title:z?"Remove from favorites":"Add to favorites",children:(0,F.jsx)(a.A,{size:"small",onClick:R,sx:{color:z?"#F39C12":"#BDC3C7","&:hover":{color:z?"#E67E22":"#F39C12"}},children:z?(0,F.jsx)(b.A,{}):(0,F.jsx)(C.A,{})})})]}),(S||P.status||P.type)&&(0,F.jsxs)(n.A,{sx:{display:"flex",alignItems:"center",gap:1,flexWrap:"wrap",ml:{xs:0,md:2}},children:[S&&(0,F.jsx)(d.A,{variant:"body2",sx:{color:"#7F8C8D",fontSize:"0.9rem"},children:S}),P.status&&(0,F.jsx)(p.A,{label:P.status,size:"small",sx:{height:24,fontSize:"0.75rem",backgroundColor:v(P.status),color:"white",fontWeight:600}}),P.type&&(0,F.jsx)(p.A,{label:P.type,size:"small",variant:"outlined",sx:{height:24,fontSize:"0.75rem",borderColor:"#D5DBDB",color:"#7F8C8D"}})]})]}),$.length>0&&(0,F.jsxs)(n.A,{sx:{display:"flex",alignItems:"center",gap:1.5,flexShrink:0},children:[$.slice(0,L?2:4).map(((e,t)=>(0,F.jsx)(h.A,{title:e.label,children:(0,F.jsx)(a.A,{onClick:e.onClick,size:"small",sx:{backgroundColor:"primary"===e.color?"#3498DB":"#F8F9FA",color:"primary"===e.color?"white":"error"===e.color?"#E74C3C":"#7F8C8D",border:"primary"===e.color?"none":"1px solid #E9ECEF",borderRadius:2,width:36,height:36,"&:hover":{backgroundColor:"primary"===e.color?"#2980B9":"error"===e.color?"#fadbd8":"#ECF0F1",transform:"translateY(-1px)",boxShadow:"primary"===e.color?"0 4px 12px rgba(52, 152, 219, 0.3)":"none"}},children:e.icon})},t))),($.length>(L?2:4)||T)&&(0,F.jsx)(h.A,{title:"More options",children:(0,F.jsx)(a.A,{size:"small",sx:{backgroundColor:"#F8F9FA",border:"1px solid #E9ECEF",borderRadius:2,width:36,height:36,"&:hover":{backgroundColor:"#ECF0F1",border:"1px solid #D5DBDB"}},children:(0,F.jsx)(E.A,{sx:{fontSize:18}})})})]})]})]})};var w=o(42509);const k=e=>{let{pageType:t,pageTitle:o,pageData:i={},parentPath:s,onNavigate:l,subtitle:a,actions:c=[],isStarred:d=!1,onToggleStar:x,onEdit:h,onDelete:p,onShare:u,children:m,showBreadcrumb:A=!0,breadcrumbElevation:g=0,contentPadding:j=3}=e;const{navigateTo:y,getBreadcrumbConfig:f}=(0,w.cq)();(0,r.useEffect)((()=>{t&&o&&y({title:o,path:window.location.pathname,type:t,parentPath:s,data:i})}),[t,o,s,i,y]);const b=f();return(0,F.jsxs)(n.A,{sx:{minHeight:"100vh",backgroundColor:"#F8F9FA"},children:[A&&(0,F.jsx)(S,{currentPath:b.currentPath,title:o,subtitle:a,itemType:t,itemData:i,actions:c,isStarred:d,onToggleStar:x,onEdit:h,onDelete:p,onShare:u,onNavigate:e=>{l?l(e):window.history.pushState({},"",e)},elevation:g}),(0,F.jsx)(n.A,{sx:{p:j},children:m})]})}}}]);
//# sourceMappingURL=145.0cf705a4.chunk.js.map