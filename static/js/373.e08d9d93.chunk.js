"use strict";(self.webpackChunkformula_project_app=self.webpackChunkformula_project_app||[]).push([[106,373],{4573:(e,t,l)=>{l.d(t,{A:()=>o});var r=l(99992),a=l(70579);const o=(0,r.A)((0,a.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 4-8 5-8-5V6l8 5 8-5z"}),"Email")},5362:(e,t,l)=>{l.d(t,{A:()=>o});var r=l(99992),a=l(70579);const o=(0,r.A)((0,a.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")},23241:(e,t,l)=>{l.d(t,{A:()=>o});var r=l(99992),a=l(70579);const o=(0,r.A)((0,a.jsx)("path",{d:"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02z"}),"Phone")},51087:(e,t,l)=>{l.d(t,{A:()=>o});var r=l(99992),a=l(70579);const o=(0,r.A)((0,a.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"NavigateNext")},58315:(e,t,l)=>{l.d(t,{A:()=>o});var r=l(99992),a=l(70579);const o=(0,r.A)((0,a.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack")},61773:(e,t,l)=>{l.d(t,{A:()=>o});var r=l(99992),a=l(70579);const o=(0,r.A)((0,a.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")},63106:(e,t,l)=>{l.r(t),l.d(t,{default:()=>y});var r=l(89379),a=l(65043),o=l(53969),n=l(56803),i=l(94799),s=l(55895),c=l(33539),d=l(83759),m=l(53089),h=l(24343),u=l(47471),x=l(41859),p=l(90160),v=l(4573),A=l(23241),f=l(27601),b=l(93736),g=l(70579);const j=[{value:"project_manager",label:"Project Manager",color:"#e74c3c",level:5},{value:"team_lead",label:"Team Lead",color:"#e67e22",level:4},{value:"senior",label:"Senior",color:"#f39c12",level:3},{value:"junior",label:"Junior",color:"#27ae60",level:2},{value:"client",label:"Client",color:"#3498db",level:1}],C=[{value:"fit-out",label:"Fit-out"},{value:"millwork",label:"Millwork"},{value:"electrical",label:"Electrical"},{value:"mep",label:"MEP"},{value:"management",label:"Management"}];const y=function(e){var t,l,y,E,w,N;let{onSubmit:k,teamMembers:S=[]}=e;const[M,D]=(0,a.useState)({firstName:"",lastName:"",email:"",phone:"",role:"",department:"",reportsTo:"",hourlyRate:"",notes:""}),[F,T]=(0,a.useState)({}),[z,I]=(0,a.useState)(!1),P=e=>t=>{D((0,r.A)((0,r.A)({},M),{},{[e]:t.target.value})),F[e]&&T((0,r.A)((0,r.A)({},F),{},{[e]:""}))},B=M.role?null===(t=j.find((e=>e.value===M.role)))||void 0===t?void 0:t.level:0,L=S.filter((e=>e.roleLevel>B&&"active"===e.status));return(0,g.jsxs)(o.A,{component:"form",onSubmit:e=>{if(e.preventDefault(),(()=>{const e={};return M.firstName.trim()||(e.firstName="First name is required"),M.lastName.trim()||(e.lastName="Last name is required"),M.email.trim()?/\S+@\S+\.\S+/.test(M.email)||(e.email="Email is invalid"):e.email="Email is required",M.role||(e.role="Role is required"),M.department||(e.department="Department is required"),S.some((e=>e.email===M.email.trim()))&&(e.email="Email already exists"),T(e),0===Object.keys(e).length})()){const e=j.find((e=>e.value===M.role));k((0,r.A)((0,r.A)({},M),{},{fullName:"".concat(M.firstName.trim()," ").concat(M.lastName.trim()),initials:"".concat(M.firstName.charAt(0)).concat(M.lastName.charAt(0)).toUpperCase(),roleLevel:e.level,roleColor:e.color,status:"active",joinedAt:(new Date).toISOString()})),D({firstName:"",lastName:"",email:"",phone:"",role:"",department:"",reportsTo:"",hourlyRate:"",notes:""}),I(!0),setTimeout((()=>I(!1)),3e3)}},sx:{display:"flex",flexDirection:"column",gap:2},children:[z&&(0,g.jsx)(n.A,{severity:"success",children:"Team member added successfully!"}),(0,g.jsxs)(i.A,{sx:{p:2,backgroundColor:"#f8f9fa"},children:[(0,g.jsx)(s.A,{variant:"subtitle2",gutterBottom:!0,color:"text.secondary",children:"Preview"}),(0,g.jsxs)(o.A,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,g.jsx)(c.A,{sx:{bgcolor:M.role?null===(l=j.find((e=>e.value===M.role)))||void 0===l?void 0:l.color:"#gray"},children:M.firstName&&M.lastName?"".concat(M.firstName.charAt(0)).concat(M.lastName.charAt(0)).toUpperCase():"?"}),(0,g.jsxs)(o.A,{children:[(0,g.jsx)(s.A,{variant:"h6",children:M.firstName||M.lastName?"".concat(M.firstName," ").concat(M.lastName):"Team Member Name"}),(0,g.jsxs)(o.A,{sx:{display:"flex",gap:1,alignItems:"center"},children:[M.role&&(0,g.jsx)(d.A,{label:null===(y=j.find((e=>e.value===M.role)))||void 0===y?void 0:y.label,size:"small",sx:{backgroundColor:(null===(E=j.find((e=>e.value===M.role)))||void 0===E?void 0:E.color)+"20",color:null===(w=j.find((e=>e.value===M.role)))||void 0===w?void 0:w.color}}),M.department&&(0,g.jsx)(s.A,{variant:"body2",color:"text.secondary",children:null===(N=C.find((e=>e.value===M.department)))||void 0===N?void 0:N.label})]})]})]})]}),(0,g.jsxs)(m.A,{container:!0,spacing:2,children:[(0,g.jsx)(m.A,{item:!0,xs:12,sm:6,children:(0,g.jsx)(h.A,{label:"First Name",value:M.firstName,onChange:P("firstName"),error:!!F.firstName,helperText:F.firstName,fullWidth:!0,required:!0,InputProps:{startAdornment:(0,g.jsx)(p.A,{sx:{mr:1,color:"action.active"}})}})}),(0,g.jsx)(m.A,{item:!0,xs:12,sm:6,children:(0,g.jsx)(h.A,{label:"Last Name",value:M.lastName,onChange:P("lastName"),error:!!F.lastName,helperText:F.lastName,fullWidth:!0,required:!0})})]}),(0,g.jsx)(h.A,{label:"Email Address",type:"email",value:M.email,onChange:P("email"),error:!!F.email,helperText:F.email,fullWidth:!0,required:!0,InputProps:{startAdornment:(0,g.jsx)(v.A,{sx:{mr:1,color:"action.active"}})}}),(0,g.jsx)(h.A,{label:"Phone Number",value:M.phone,onChange:P("phone"),fullWidth:!0,InputProps:{startAdornment:(0,g.jsx)(A.A,{sx:{mr:1,color:"action.active"}})}}),(0,g.jsxs)(m.A,{container:!0,spacing:2,children:[(0,g.jsx)(m.A,{item:!0,xs:12,sm:6,children:(0,g.jsx)(h.A,{select:!0,label:"Role",value:M.role,onChange:P("role"),error:!!F.role,helperText:F.role,fullWidth:!0,required:!0,InputProps:{startAdornment:(0,g.jsx)(f.A,{sx:{mr:1,color:"action.active"}})},children:j.map((e=>(0,g.jsx)(u.A,{value:e.value,sx:{borderLeft:"4px solid ".concat(e.color),marginBottom:.5},children:(0,g.jsxs)(o.A,{sx:{display:"flex",justifyContent:"space-between",width:"100%"},children:[(0,g.jsx)("span",{children:e.label}),(0,g.jsx)(d.A,{label:"Level ".concat(e.level),size:"small",sx:{backgroundColor:e.color+"20",color:e.color}})]})},e.value)))})}),(0,g.jsx)(m.A,{item:!0,xs:12,sm:6,children:(0,g.jsx)(h.A,{select:!0,label:"Department",value:M.department,onChange:P("department"),error:!!F.department,helperText:F.department,fullWidth:!0,required:!0,InputProps:{startAdornment:(0,g.jsx)(b.A,{sx:{mr:1,color:"action.active"}})},children:C.map((e=>(0,g.jsx)(u.A,{value:e.value,children:e.label},e.value)))})})]}),L.length>0&&(0,g.jsx)(h.A,{select:!0,label:"Reports To",value:M.reportsTo,onChange:P("reportsTo"),fullWidth:!0,helperText:"Select a manager (optional)",children:L.map((e=>{var t;return(0,g.jsx)(u.A,{value:e.id,children:(0,g.jsxs)(o.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,g.jsx)(c.A,{sx:{width:24,height:24,fontSize:12,bgcolor:e.roleColor},children:e.initials}),e.fullName," - ",null===(t=j.find((t=>t.value===e.role)))||void 0===t?void 0:t.label]})},e.id)}))}),(0,g.jsx)(h.A,{label:"Hourly Rate ($)",type:"number",value:M.hourlyRate,onChange:P("hourlyRate"),fullWidth:!0,helperText:"Optional - for time tracking and billing"}),(0,g.jsx)(h.A,{label:"Notes",value:M.notes,onChange:P("notes"),multiline:!0,rows:3,fullWidth:!0,placeholder:"Additional notes about this team member..."}),(0,g.jsx)(x.A,{type:"submit",variant:"contained",size:"large",sx:{mt:2},children:"Add Team Member"})]})}},66866:(e,t,l)=>{l.d(t,{A:()=>S});var r=l(65043),a=l(53969),o=l(60267),n=l(86995),i=l(94799),s=l(42579),c=l(65749),d=l(55895),m=l(31202),h=l(26529),u=l(83759),x=l(32306),p=l(70923),v=l(61773),A=l(26582),f=l(5362),b=l(58315),g=l(51087),j=l(27601),C=l(96659),y=l(53724),E=l(70579);const w=e=>({completed:"#27AE60",active:"#8E44AD","in-progress":"#F39C12",in_progress:"#F39C12",pending:"#3498DB","on-hold":"#E67E22",on_hold:"#E67E22",cancelled:"#E74C3C",awarded:"#27AE60","on-tender":"#3498DB",on_tender:"#3498DB","not-awarded":"#E74C3C",not_awarded:"#E74C3C"}[null===e||void 0===e?void 0:e.toLowerCase()]||"#95A5A6"),N=e=>{let{currentPath:t=[],onNavigate:l,title:r,subtitle:N,itemType:k,itemId:S,itemData:M={},actions:D=[],onEdit:F,onDelete:T,onShare:z,showMoreActions:I=!1,isStarred:P=!1,onToggleStar:B,showBackButton:L=!0,backgroundColor:W="white",elevation:q=0}=e;const R=(0,o.A)(),_=(0,n.A)(R.breakpoints.down("md")),H=(()=>{const e=[{label:"Formula PM",icon:(0,E.jsx)(x.A,{sx:{fontSize:16}}),href:"/",onClick:()=>l&&l("/")},{label:"Team Space",icon:(0,E.jsx)(p.A,{sx:{fontSize:16}}),href:"/dashboard",onClick:()=>l&&l("/dashboard")}];return t.forEach(((r,a)=>{e.push({label:r.label,href:r.href,onClick:()=>l&&l(r.href),isLast:a===t.length-1})})),e})(),V=[...D||[],...F?[{icon:(0,E.jsx)(v.A,{}),label:"Edit",onClick:F,color:"primary"}]:[],...z?[{icon:(0,E.jsx)(A.A,{}),label:"Share",onClick:z,color:"default"}]:[],...T?[{icon:(0,E.jsx)(f.A,{}),label:"Delete",onClick:T,color:"error"}]:[]];return(0,E.jsxs)(i.A,{elevation:q,sx:{backgroundColor:W,borderBottom:"1px solid #E9ECEF",px:{xs:2,md:4},py:3,borderRadius:0},children:[_&&L&&(0,E.jsx)(a.A,{sx:{mb:2},children:(0,E.jsx)(s.A,{onClick:()=>{if(t.length>0){const e=t[t.length-1];l&&e.href?l(e.href):window.history.back()}else window.history.back()},size:"small",sx:{color:"#7F8C8D","&:hover":{color:"#2C3E50"}},children:(0,E.jsx)(b.A,{})})}),!_&&(0,E.jsx)(c.A,{separator:(0,E.jsx)(g.A,{fontSize:"small"}),sx:{mb:2,fontSize:"0.875rem","& .MuiBreadcrumbs-separator":{color:"#7F8C8D"}},children:H.map(((e,t)=>t===H.length-1?(0,E.jsxs)(d.A,{color:"text.primary",fontWeight:500,sx:{color:"#2C3E50",display:"flex",alignItems:"center",gap:.5},children:[e.icon,e.label]},t):(0,E.jsxs)(m.A,{underline:"hover",color:"inherit",href:e.href||"#",onClick:t=>{t.preventDefault(),e.onClick&&e.onClick()},sx:{display:"flex",alignItems:"center",gap:.5,color:"#7F8C8D",cursor:"pointer","&:hover":{color:"#2C3E50"}},children:[e.icon,e.label]},t)))}),(0,E.jsxs)(a.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:{xs:"flex-start",md:"center"},flexDirection:{xs:"column",md:"row"},gap:{xs:2,md:0}},children:[(0,E.jsxs)(a.A,{sx:{display:"flex",alignItems:"center",gap:2,flex:1},children:[(0,E.jsxs)(a.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,E.jsx)(d.A,{variant:"h4",sx:{fontWeight:700,color:"#2C3E50",fontSize:{xs:"1.5rem",md:"1.75rem"}},children:r}),B&&(0,E.jsx)(h.A,{title:P?"Remove from favorites":"Add to favorites",children:(0,E.jsx)(s.A,{size:"small",onClick:B,sx:{color:P?"#F39C12":"#BDC3C7","&:hover":{color:P?"#E67E22":"#F39C12"}},children:P?(0,E.jsx)(j.A,{}):(0,E.jsx)(C.A,{})})})]}),(N||M.status||M.type)&&(0,E.jsxs)(a.A,{sx:{display:"flex",alignItems:"center",gap:1,flexWrap:"wrap",ml:{xs:0,md:2}},children:[N&&(0,E.jsx)(d.A,{variant:"body2",sx:{color:"#7F8C8D",fontSize:"0.9rem"},children:N}),M.status&&(0,E.jsx)(u.A,{label:M.status,size:"small",sx:{height:24,fontSize:"0.75rem",backgroundColor:w(M.status),color:"white",fontWeight:600}}),M.type&&(0,E.jsx)(u.A,{label:M.type,size:"small",variant:"outlined",sx:{height:24,fontSize:"0.75rem",borderColor:"#D5DBDB",color:"#7F8C8D"}})]})]}),V.length>0&&(0,E.jsxs)(a.A,{sx:{display:"flex",alignItems:"center",gap:1.5,flexShrink:0},children:[V.slice(0,_?2:4).map(((e,t)=>(0,E.jsx)(h.A,{title:e.label,children:(0,E.jsx)(s.A,{onClick:e.onClick,size:"small",sx:{backgroundColor:"primary"===e.color?"#3498DB":"#F8F9FA",color:"primary"===e.color?"white":"error"===e.color?"#E74C3C":"#7F8C8D",border:"primary"===e.color?"none":"1px solid #E9ECEF",borderRadius:2,width:36,height:36,"&:hover":{backgroundColor:"primary"===e.color?"#2980B9":"error"===e.color?"#fadbd8":"#ECF0F1",transform:"translateY(-1px)",boxShadow:"primary"===e.color?"0 4px 12px rgba(52, 152, 219, 0.3)":"none"}},children:e.icon})},t))),(V.length>(_?2:4)||I)&&(0,E.jsx)(h.A,{title:"More options",children:(0,E.jsx)(s.A,{size:"small",sx:{backgroundColor:"#F8F9FA",border:"1px solid #E9ECEF",borderRadius:2,width:36,height:36,"&:hover":{backgroundColor:"#ECF0F1",border:"1px solid #D5DBDB"}},children:(0,E.jsx)(y.A,{sx:{fontSize:18}})})})]})]})]})};var k=l(42509);const S=e=>{let{pageType:t,pageTitle:l,pageData:o={},parentPath:n,onNavigate:i,subtitle:s,actions:c=[],isStarred:d=!1,onToggleStar:m,onEdit:h,onDelete:u,onShare:x,children:p,showBreadcrumb:v=!0,breadcrumbElevation:A=0,contentPadding:f=3}=e;const{navigateTo:b,getBreadcrumbConfig:g}=(0,k.cq)();(0,r.useEffect)((()=>{t&&l&&b({title:l,path:window.location.pathname,type:t,parentPath:n,data:o})}),[t,l,n,o,b]);const j=g();return(0,E.jsxs)(a.A,{sx:{minHeight:"100vh",backgroundColor:"#F8F9FA"},children:[v&&(0,E.jsx)(N,{currentPath:j.currentPath,title:l,subtitle:s,itemType:t,itemData:o,actions:c,isStarred:d,onToggleStar:m,onEdit:h,onDelete:u,onShare:x,onNavigate:e=>{i?i(e):window.history.pushState({},"",e)},elevation:A}),(0,E.jsx)(a.A,{sx:{p:f},children:p})]})}},73373:(e,t,l)=>{l.r(t),l.d(t,{default:()=>i});l(65043);var r=l(53969),a=l(63106),o=l(66866),n=l(70579);const i=e=>{let{member:t=null,teamMembers:l,onSubmit:i,onCancel:s,isEdit:c=!1}=e;const d=c?"Edit Team Member":"Add Team Member",m=c?"edit-team-member":"add-team-member",h=c&&t?{memberId:t.id,memberName:t.fullName,role:t.role,department:t.department}:{};return(0,n.jsx)(o.A,{pageType:m,pageTitle:d,pageData:h,subtitle:c?"Editing: ".concat(null===t||void 0===t?void 0:t.fullName):"Add a new team member",onNavigate:e=>{"/team"===e&&s&&s()},contentPadding:3,children:(0,n.jsx)(r.A,{sx:{maxWidth:800,mx:"auto",backgroundColor:"white",borderRadius:3,border:"1px solid #E9ECEF",p:4},children:(0,n.jsx)(a.default,{teamMembers:l,onSubmit:i,initialMember:t})})})}},86995:(e,t,l)=>{l.d(t,{A:()=>u});var r=l(89379),a=l(65043),o=l.t(a,2),n=l(46509),i=l(38480),s=l(15651);function c(e,t,l,r,o){const[i,s]=a.useState((()=>o&&l?l(e).matches:r?r(e).matches:t));return(0,n.A)((()=>{if(!l)return;const t=l(e),r=()=>{s(t.matches)};return r(),t.addEventListener("change",r),()=>{t.removeEventListener("change",r)}}),[e,l]),i}const d=(0,r.A)({},o).useSyncExternalStore;function m(e,t,l,r,o){const n=a.useCallback((()=>t),[t]),i=a.useMemo((()=>{if(o&&l)return()=>l(e).matches;if(null!==r){const{matches:t}=r(e);return()=>t}return n}),[n,e,r,o,l]),[s,c]=a.useMemo((()=>{if(null===l)return[n,()=>()=>{}];const t=l(e);return[()=>t.matches,e=>(t.addEventListener("change",e),()=>{t.removeEventListener("change",e)})]}),[n,l,e]);return d(c,s,i)}function h(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t}=e;return function(e){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(0,s.A)();r&&t&&(r=r[t]||r);const a="undefined"!==typeof window&&"undefined"!==typeof window.matchMedia,{defaultMatches:o=!1,matchMedia:n=(a?window.matchMedia:null),ssrMatchMedia:h=null,noSsr:u=!1}=(0,i.A)({name:"MuiUseMediaQuery",props:l,theme:r});let x="function"===typeof e?e(r):e;x=x.replace(/^@media( ?)/m,""),x.includes("print")&&console.warn(["MUI: You have provided a `print` query to the `useMediaQuery` hook.","Using the print media query to modify print styles can lead to unexpected results.","Consider using the `displayPrint` field in the `sx` prop instead.","More information about `displayPrint` on our docs: https://mui.com/system/display/#display-in-print."].join("\n"));return(void 0!==d?m:c)(x,o,n,h,u)}}h();const u=h({themeId:l(50416).A})},93736:(e,t,l)=>{l.d(t,{A:()=>o});var r=l(99992),a=l(70579);const o=(0,r.A)((0,a.jsx)("path",{d:"M20 6h-4V4c0-1.11-.89-2-2-2h-4c-1.11 0-2 .89-2 2v2H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2m-6 0h-4V4h4z"}),"Work")}}]);
//# sourceMappingURL=373.e08d9d93.chunk.js.map