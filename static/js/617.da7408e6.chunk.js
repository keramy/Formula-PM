"use strict";(self.webpackChunkformula_project_app=self.webpackChunkformula_project_app||[]).push([[617],{2617:(e,t,s)=>{s.r(t),s.d(t,{default:()=>g});var a=s(89379),n=(s(65043),s(53969)),r=s(55895),l=s(94799),o=s(83759),i=s(50108),d=s(75392),c=s(87734),x=s(52185),h=s(6026),p=s(86150),u=s(22798),m=s(70579);const y={low:"#27ae60",medium:"#f39c12",high:"#e67e22",urgent:"#e74c3c"};const g=function(e){let{tasks:t,projects:s}=e;if(0===t.length)return(0,m.jsx)(n.A,{sx:{textAlign:"center",py:4},children:(0,m.jsx)(r.A,{variant:"body1",color:"text.secondary",children:"Timeline will appear here as you add tasks to your projects"})});const g=(()=>{const e=new Date,s=[];for(let a=-7;a<=30;a++){const n=new Date(e);n.setDate(e.getDate()+a);const r=t.filter((e=>new Date(e.dueDate).toDateString()===n.toDateString()));s.push({date:n.toLocaleDateString("en-US",{month:"short",day:"numeric"}),fullDate:n.toISOString().split("T")[0],tasks:r.length,completedTasks:r.filter((e=>"completed"===e.status)).length,pendingTasks:r.filter((e=>"pending"===e.status)).length,isToday:n.toDateString()===e.toDateString(),dayTasks:r})}return s.filter((e=>e.tasks>0))})(),j=[...t].sort(((e,t)=>new Date(e.dueDate)-new Date(t.dueDate))).map((e=>{const t=s.find((t=>t.id===e.projectId)),n=new Date(e.dueDate),r=new Date,l=n<r&&"completed"!==e.status,o=Math.ceil((n-r)/864e5);return(0,a.A)((0,a.A)({},e),{},{projectName:t?t.name:"Unknown",isOverdue:l,daysFromToday:o,formattedDate:n.toLocaleDateString("en-US",{month:"short",day:"numeric",year:n.getFullYear()!==r.getFullYear()?"numeric":void 0})})})),f=e=>{let{active:t,payload:s,label:a}=e;if(t&&s&&s.length){const e=s[0].payload;return(0,m.jsxs)(l.A,{sx:{p:2,minWidth:200},children:[(0,m.jsx)(r.A,{variant:"subtitle2",gutterBottom:!0,children:a}),(0,m.jsxs)(r.A,{variant:"body2",color:"text.secondary",children:["Total Tasks: ",e.tasks]}),(0,m.jsxs)(r.A,{variant:"body2",sx:{color:"#27ae60"},children:["Completed: ",e.completedTasks]}),(0,m.jsxs)(r.A,{variant:"body2",sx:{color:"#f39c12"},children:["Pending: ",e.pendingTasks]}),e.dayTasks.length>0&&(0,m.jsxs)(n.A,{sx:{mt:1},children:[(0,m.jsx)(r.A,{variant:"caption",display:"block",children:"Tasks:"}),e.dayTasks.slice(0,3).map(((e,t)=>(0,m.jsxs)(r.A,{variant:"caption",display:"block",sx:{ml:1},children:["\u2022 ",e.name]},t))),e.dayTasks.length>3&&(0,m.jsxs)(r.A,{variant:"caption",display:"block",sx:{ml:1},children:["... and ",e.dayTasks.length-3," more"]})]})]})}return null};return(0,m.jsxs)(n.A,{children:[g.length>0&&(0,m.jsxs)(n.A,{sx:{mb:4},children:[(0,m.jsx)(r.A,{variant:"h6",gutterBottom:!0,children:"Task Distribution Timeline"}),(0,m.jsx)(i.u,{width:"100%",height:200,children:(0,m.jsxs)(d.E,{data:g,margin:{top:20,right:30,left:20,bottom:5},children:[(0,m.jsx)(c.d,{strokeDasharray:"3 3"}),(0,m.jsx)(x.W,{dataKey:"date"}),(0,m.jsx)(h.h,{}),(0,m.jsx)(p.m,{content:(0,m.jsx)(f,{})}),(0,m.jsx)(u.y,{dataKey:"tasks",fill:"#3498db"})]})})]}),(0,m.jsx)(r.A,{variant:"h6",gutterBottom:!0,children:"Task Timeline"}),(0,m.jsx)(n.A,{sx:{display:"flex",flexDirection:"column",gap:1},children:j.map((e=>(0,m.jsx)(l.A,{sx:{p:2,borderLeft:"4px solid ".concat(e.isOverdue?"#e74c3c":y[e.priority]),backgroundColor:"completed"===e.status?"#f8f9fa":e.isOverdue?"#fff5f5":"white",opacity:"completed"===e.status?.7:1},children:(0,m.jsxs)(n.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,m.jsxs)(n.A,{sx:{flex:1},children:[(0,m.jsx)(r.A,{variant:"body1",sx:{fontWeight:500,textDecoration:"completed"===e.status?"line-through":"none"},children:e.name}),(0,m.jsxs)(r.A,{variant:"body2",color:"text.secondary",children:[e.projectName," \u2022 ",e.assignee]})]}),(0,m.jsxs)(n.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,m.jsx)(o.A,{label:e.priority,size:"small",sx:{backgroundColor:"".concat(y[e.priority],"20"),color:y[e.priority],fontWeight:"bold"}}),(0,m.jsx)(o.A,{label:e.formattedDate,size:"small",color:e.isOverdue?"error":e.daysFromToday<=1?"warning":"default"}),"completed"===e.status&&(0,m.jsx)(o.A,{label:"Done",size:"small",color:"success"}),e.isOverdue&&"completed"!==e.status&&(0,m.jsx)(o.A,{label:"Overdue",size:"small",color:"error"})]})]})},e.id)))}),0===j.length&&(0,m.jsx)(n.A,{sx:{textAlign:"center",py:4},children:(0,m.jsx)(r.A,{variant:"body2",color:"text.secondary",children:"No tasks to display in timeline"})})]})}}}]);
//# sourceMappingURL=617.da7408e6.chunk.js.map