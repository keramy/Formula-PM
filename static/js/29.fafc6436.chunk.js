"use strict";(self.webpackChunkformula_project_app=self.webpackChunkformula_project_app||[]).push([[29,481],{4573:(e,t,l)=>{l.d(t,{A:()=>r});var n=l(99992),a=l(70579);const r=(0,n.A)((0,a.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 4-8 5-8-5V6l8 5 8-5z"}),"Email")},19981:(e,t,l)=>{l.d(t,{A:()=>S});var n=l(65043),a=l(53969),r=l(33539),i=l(55895),s=l(83759),o=l(26020),c=l(26529),d=l(94799),x=l(28259),h=l(87443),u=l(10756),m=l(86172),p=l(81341),A=l(26711),y=l(41778),j=l(34375),b=l(42579),v=l(62055),g=l(47471),f=l(79801),C=l(66185),w=l(12043),k=l(70579);const S=e=>{let{data:t,columns:l,onSort:S,sortBy:z,sortDirection:W,onRowAction:P,showCheckboxes:F=!1,selectedRows:N=[],onSelectRow:E,onSelectAll:D,actions:I=[],emptyStateMessage:T="No data available",emptyStateIcon:M}=e;const[R,O]=(0,n.useState)(null),[V,L]=(0,n.useState)(null),q=()=>{O(null),L(null)},B=(e,t)=>{if(!t||"object"!==typeof t)return console.warn("Invalid rowData in renderCellContent:",t),"-";const l=t[e.key],d=e=>n.isValidElement(e)||"string"===typeof e||"number"===typeof e?e:null===e||void 0===e?"-":"boolean"===typeof e?e.toString():"object"===typeof e?(console.warn("Attempting to render object as React child:",e),"[Object]"):String(e);if(e.render)try{const o=e.render(l,t);if("object"===typeof o&&null!==o&&!n.isValidElement(o)){if(o.hasOwnProperty("fallback")||o.hasOwnProperty("bgColor")||o.hasOwnProperty("text"))return(0,k.jsxs)(a.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,k.jsx)(r.A,{src:o.src,sx:{width:32,height:32,backgroundColor:o.bgColor||"primary.main"},children:o.fallback||"?"}),o.text&&(0,k.jsx)(i.A,{variant:"body2",sx:{cursor:o.clickable?"pointer":"default",color:o.clickable?"#3498db":"inherit",textDecoration:"none","&:hover":o.clickable?{textDecoration:"underline",color:"#2980b9"}:{}},onClick:o.clickable?o.onClick:void 0,children:o.text})]});if(o.hasOwnProperty("label")||o.hasOwnProperty("color"))return(0,k.jsx)(s.A,{label:o.label||"Unknown",size:"small",icon:o.icon||null,sx:{backgroundColor:o.bgColor||"grey.100",color:o.color||"text.primary",fontWeight:500,"& .MuiChip-icon":{color:o.color||"text.primary",fontSize:"16px"}}});console.warn("Unhandled object in table cell:",o,"Column:",e);try{return String(o.toString?o.toString():JSON.stringify(o))}catch(x){return console.error("Failed to stringify object:",x,o),"Error: Invalid object"}}return d(o)}catch(h){return console.error("Error in column render function:",h,"Column:",e.key,"Value:",l),"Error: Render failed"}switch(e.type){case"avatar":return(0,k.jsxs)(a.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,k.jsx)(r.A,{src:null===l||void 0===l?void 0:l.src,sx:{width:32,height:32,backgroundColor:(null===l||void 0===l?void 0:l.bgColor)||"primary.main"},children:(null===l||void 0===l?void 0:l.fallback)||("string"===typeof l?l.charAt(0):"")}),(null===l||void 0===l?void 0:l.text)&&(0,k.jsx)(i.A,{variant:"body2",children:l.text})]});case"chip":return l?(0,k.jsx)(s.A,{label:l.label||l,size:"small",icon:l.icon||null,sx:{backgroundColor:l.bgColor||"grey.100",color:l.color||"text.primary",fontWeight:500,"& .MuiChip-icon":{color:l.color||"text.primary",fontSize:"16px"}}}):"-";case"progress":return"number"!==typeof l?"-":(0,k.jsxs)(a.A,{sx:{display:"flex",alignItems:"center",gap:1,minWidth:100},children:[(0,k.jsx)(o.A,{variant:"determinate",value:l,sx:{flexGrow:1,height:8,borderRadius:4}}),(0,k.jsxs)(i.A,{variant:"caption",sx:{minWidth:35},children:[l,"%"]})]});case"date":if(!l)return"-";return(l instanceof Date?l:new Date(l)).toLocaleDateString();case"currency":return l?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(l):"-";case"email":return l?(0,k.jsx)(i.A,{variant:"body2",component:"a",href:"mailto:".concat(l),sx:{color:"primary.main",textDecoration:"none"},children:l}):"-";case"phone":return l?(0,k.jsx)(i.A,{variant:"body2",component:"a",href:"tel:".concat(l),sx:{color:"primary.main",textDecoration:"none"},children:l}):"-";case"multiline":return l?(0,k.jsx)(c.A,{title:l,arrow:!0,children:(0,k.jsx)(i.A,{variant:"body2",sx:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:200},children:l})}):"-";default:return d(l)}};return 0===t.length?(0,k.jsxs)(d.A,{sx:{p:4,textAlign:"center"},children:[M&&(0,k.jsx)(M,{sx:{fontSize:64,color:"text.secondary",mb:2}}),(0,k.jsx)(i.A,{variant:"h6",color:"text.secondary",children:T})]}):(0,k.jsxs)(x.A,{component:d.A,sx:{mt:2},children:[(0,k.jsxs)(h.A,{children:[(0,k.jsx)(u.A,{children:(0,k.jsxs)(m.A,{children:[F&&(0,k.jsx)(p.A,{padding:"checkbox",children:(0,k.jsx)(A.A,{indeterminate:N.length>0&&N.length<t.length,checked:t.length>0&&N.length===t.length,onChange:D})}),l.map((e=>(0,k.jsx)(p.A,{align:e.align||"left",sx:{fontWeight:600,minWidth:e.minWidth,width:e.width},children:!1!==e.sortable?(0,k.jsx)(y.A,{active:z===e.key,direction:z===e.key?W:"asc",onClick:()=>(e=>{if(!1!==e.sortable&&S){const t=z===e.key&&"asc"===W;S(e.key,t?"desc":"asc")}})(e),children:e.label}):e.label},e.key))),I.length>0&&(0,k.jsx)(p.A,{align:"center",sx:{width:60},children:"Actions"})]})}),(0,k.jsx)(j.A,{children:t.map(((e,t)=>(0,k.jsxs)(m.A,{hover:!0,selected:N.includes(e.id),sx:{"&:nth-of-type(odd)":{backgroundColor:"action.hover"}},children:[F&&(0,k.jsx)(p.A,{padding:"checkbox",children:(0,k.jsx)(A.A,{checked:N.includes(e.id),onChange:()=>E&&E(e.id)})}),l.map((t=>(0,k.jsx)(p.A,{align:t.align||"left",sx:{py:2},children:B(t,e)},t.key))),I.length>0&&(0,k.jsx)(p.A,{align:"center",children:(0,k.jsx)(b.A,{size:"small",onClick:t=>{return l=e,O(t.currentTarget),void L(l);var l},children:(0,k.jsx)(w.A,{})})})]},e.id||t)))})]}),(0,k.jsx)(v.A,{anchorEl:R,open:Boolean(R),onClose:q,PaperProps:{sx:{minWidth:120}},children:I.map((e=>(0,k.jsxs)(g.A,{onClick:()=>(e=>{P&&V&&P(e,V),q()})(e.key),disabled:e.disabled&&e.disabled(V),children:[(0,k.jsx)(f.A,{children:e.icon}),(0,k.jsx)(C.A,{children:e.label})]},e.key)))})]})}},23241:(e,t,l)=>{l.d(t,{A:()=>r});var n=l(99992),a=l(70579);const r=(0,n.A)((0,a.jsx)("path",{d:"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02z"}),"Phone")},34879:(e,t,l)=>{l.d(t,{A:()=>v});l(65043);var n=l(53969),a=l(55895),r=l(26529),i=l(42579),s=l(41859),o=l(24343),c=l(33699),d=l(71863),x=l(83759),h=l(8104),u=l(43900),m=l(50103),p=l(22950),A=l(63745),y=l(78916),j=l(40847),b=l(70579);const v=e=>{let{title:t,searchValue:l,onSearchChange:v,showFilters:g,onToggleFilters:f,activeFiltersCount:C,viewMode:w,onViewModeChange:k,onExport:S,onAdd:z,addButtonText:W="Add New",exportButtonText:P="Export",showAdd:F=!0,showExport:N=!0,showViewToggle:E=!0,activeFilters:D=[],onClearFilter:I}=e;return(0,b.jsxs)(n.A,{sx:{mb:3},children:[(0,b.jsxs)(n.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,flexWrap:"wrap",gap:2},children:[(0,b.jsx)(a.A,{variant:"h5",component:"h2",sx:{fontWeight:600},children:t}),(0,b.jsxs)(n.A,{sx:{display:"flex",gap:1,alignItems:"center",flexWrap:"wrap"},children:[E&&(0,b.jsxs)(n.A,{sx:{display:"flex",border:1,borderColor:"divider",borderRadius:1},children:[(0,b.jsx)(r.A,{title:"Card View",children:(0,b.jsx)(i.A,{size:"small",onClick:()=>k("card"),sx:{color:"card"===w?"primary.main":"text.secondary",backgroundColor:"card"===w?"action.selected":"transparent",borderRadius:"4px 0 0 4px"},children:(0,b.jsx)(h.A,{})})}),(0,b.jsx)(r.A,{title:"Table View",children:(0,b.jsx)(i.A,{size:"small",onClick:()=>k("table"),sx:{color:"table"===w?"primary.main":"text.secondary",backgroundColor:"table"===w?"action.selected":"transparent",borderRadius:"0 4px 4px 0"},children:(0,b.jsx)(u.A,{})})})]}),N&&(0,b.jsx)(s.A,{variant:"outlined",startIcon:(0,b.jsx)(m.A,{}),onClick:S,size:"small",children:P}),F&&(0,b.jsx)(s.A,{variant:"contained",startIcon:(0,b.jsx)(p.A,{}),onClick:z,size:"small",children:W})]})]}),(0,b.jsxs)(n.A,{sx:{display:"flex",gap:2,alignItems:"center",mb:2,flexWrap:"wrap"},children:[(0,b.jsx)(o.A,{placeholder:"Search ".concat(t.toLowerCase(),"..."),value:l,onChange:e=>v(e.target.value),size:"small",sx:{minWidth:300,flexGrow:1,maxWidth:400},InputProps:{startAdornment:(0,b.jsx)(c.A,{position:"start",children:(0,b.jsx)(A.A,{color:"action"})}),endAdornment:l&&(0,b.jsx)(c.A,{position:"end",children:(0,b.jsx)(i.A,{size:"small",onClick:()=>{v("")},edge:"end",children:(0,b.jsx)(y.A,{})})})}}),(0,b.jsx)(d.A,{badgeContent:C,color:"primary",children:(0,b.jsx)(s.A,{variant:g?"contained":"outlined",startIcon:(0,b.jsx)(j.A,{}),onClick:f,size:"small",children:"Filters"})})]}),D.length>0&&(0,b.jsxs)(n.A,{sx:{display:"flex",flexWrap:"wrap",gap:1,mb:2,alignItems:"center"},children:[(0,b.jsx)(a.A,{variant:"body2",color:"text.secondary",sx:{mr:1,alignSelf:"center"},children:"Active filters:"}),D.map(((e,t)=>(0,b.jsx)(x.A,{label:"".concat(e.label,": ").concat(e.value),size:"small",onDelete:()=>I&&I(e.key),color:"primary",variant:"outlined"},t))),D.length>1&&(0,b.jsx)(s.A,{size:"small",onClick:()=>I&&I("all"),sx:{color:"error.main",textTransform:"none",fontSize:"0.75rem",minWidth:"auto",px:1},children:"Clear All"})]})]})}},53481:(e,t,l)=>{l.r(t),l.d(t,{default:()=>j});var n=l(89379),a=l(65043),r=l(53969),i=l(53089),s=l(55895),o=l(24343),c=l(10256),d=l(79067),x=l(84938),h=l(47471),u=l(36196),m=l(83759),p=l(41859),A=l(42509),y=l(70579);const j=e=>{let{onSubmit:t,initialData:l,onCancel:j}=e;const{showNotification:b}=(0,A.hN)(),[v,g]=(0,a.useState)((0,n.A)({companyName:"",contactPersonName:"",contactPersonTitle:"",email:"",phone:"",address:"",city:"",state:"",country:"",postalCode:"",website:"",industry:"",companySize:"",services:[],taxId:"",notes:"",status:"active"},l)),[f,C]=(0,a.useState)({}),w=e=>{const{name:t,value:l}=e.target;g((e=>(0,n.A)((0,n.A)({},e),{},{[t]:l}))),f[t]&&C((e=>(0,n.A)((0,n.A)({},e),{},{[t]:""})))};return(0,y.jsx)(r.A,{component:"form",onSubmit:e=>{e.preventDefault(),(()=>{const e={};return v.companyName.trim()||(e.companyName="Company name is required"),v.contactPersonName.trim()||(e.contactPersonName="Contact person name is required"),v.email.trim()?/\S+@\S+\.\S+/.test(v.email)||(e.email="Please enter a valid email address"):e.email="Email is required",v.phone.trim()||(e.phone="Phone number is required"),v.address.trim()||(e.address="Address is required"),v.city.trim()||(e.city="City is required"),v.country.trim()||(e.country="Country is required"),v.industry||(e.industry="Industry is required"),C(e),0===Object.keys(e).length})()?(t(v),b("Client ".concat(l?"updated":"created"," successfully!"),"success"),l||g({companyName:"",contactPersonName:"",contactPersonTitle:"",email:"",phone:"",address:"",city:"",state:"",country:"",postalCode:"",website:"",industry:"",companySize:"",services:[],taxId:"",notes:"",status:"active"})):b("Please fill in all required fields correctly","error")},sx:{mt:2},children:(0,y.jsxs)(i.A,{container:!0,spacing:3,children:[(0,y.jsx)(i.A,{item:!0,xs:12,children:(0,y.jsx)(s.A,{variant:"h6",sx:{mb:2,color:"#2C3E50",fontWeight:600},children:"Company Information"})}),(0,y.jsx)(i.A,{item:!0,xs:12,md:6,children:(0,y.jsx)(o.A,{fullWidth:!0,label:"Company Name *",name:"companyName",value:v.companyName,onChange:w,error:!!f.companyName,helperText:f.companyName,variant:"outlined"})}),(0,y.jsx)(i.A,{item:!0,xs:12,md:6,children:(0,y.jsxs)(c.A,{fullWidth:!0,error:!!f.industry,children:[(0,y.jsx)(d.A,{children:"Industry *"}),(0,y.jsx)(x.A,{name:"industry",value:v.industry,onChange:w,label:"Industry *",children:["Banking & Finance","Technology","Healthcare","Manufacturing","Retail","Real Estate","Education","Government","Hospitality","Energy","Transportation","Insurance","Telecommunications","Media & Entertainment","Other"].map((e=>(0,y.jsx)(h.A,{value:e,children:e},e)))})]})}),(0,y.jsx)(i.A,{item:!0,xs:12,md:6,children:(0,y.jsxs)(c.A,{fullWidth:!0,children:[(0,y.jsx)(d.A,{children:"Company Size"}),(0,y.jsx)(x.A,{name:"companySize",value:v.companySize,onChange:w,label:"Company Size",children:["Startup (1-10 employees)","Small (11-50 employees)","Medium (51-200 employees)","Large (201-1000 employees)","Enterprise (1000+ employees)"].map((e=>(0,y.jsx)(h.A,{value:e,children:e},e)))})]})}),(0,y.jsx)(i.A,{item:!0,xs:12,md:6,children:(0,y.jsx)(o.A,{fullWidth:!0,label:"Website",name:"website",value:v.website,onChange:w,variant:"outlined",placeholder:"https://www.example.com"})}),(0,y.jsx)(i.A,{item:!0,xs:12,md:6,children:(0,y.jsx)(o.A,{fullWidth:!0,label:"Tax ID",name:"taxId",value:v.taxId,onChange:w,variant:"outlined"})}),(0,y.jsx)(i.A,{item:!0,xs:12,md:6,children:(0,y.jsxs)(c.A,{fullWidth:!0,children:[(0,y.jsx)(d.A,{children:"Status"}),(0,y.jsxs)(x.A,{name:"status",value:v.status,onChange:w,label:"Status",children:[(0,y.jsx)(h.A,{value:"active",children:"Active"}),(0,y.jsx)(h.A,{value:"inactive",children:"Inactive"}),(0,y.jsx)(h.A,{value:"potential",children:"Potential"})]})]})}),(0,y.jsx)(i.A,{item:!0,xs:12,children:(0,y.jsx)(s.A,{variant:"h6",sx:{mb:2,mt:2,color:"#2C3E50",fontWeight:600},children:"Contact Information"})}),(0,y.jsx)(i.A,{item:!0,xs:12,md:6,children:(0,y.jsx)(o.A,{fullWidth:!0,label:"Contact Person Name *",name:"contactPersonName",value:v.contactPersonName,onChange:w,error:!!f.contactPersonName,helperText:f.contactPersonName,variant:"outlined"})}),(0,y.jsx)(i.A,{item:!0,xs:12,md:6,children:(0,y.jsx)(o.A,{fullWidth:!0,label:"Contact Person Title",name:"contactPersonTitle",value:v.contactPersonTitle,onChange:w,variant:"outlined"})}),(0,y.jsx)(i.A,{item:!0,xs:12,md:6,children:(0,y.jsx)(o.A,{fullWidth:!0,label:"Email *",name:"email",type:"email",value:v.email,onChange:w,error:!!f.email,helperText:f.email,variant:"outlined"})}),(0,y.jsx)(i.A,{item:!0,xs:12,md:6,children:(0,y.jsx)(o.A,{fullWidth:!0,label:"Phone *",name:"phone",value:v.phone,onChange:w,error:!!f.phone,helperText:f.phone,variant:"outlined"})}),(0,y.jsx)(i.A,{item:!0,xs:12,children:(0,y.jsx)(s.A,{variant:"h6",sx:{mb:2,mt:2,color:"#2C3E50",fontWeight:600},children:"Address Information"})}),(0,y.jsx)(i.A,{item:!0,xs:12,children:(0,y.jsx)(o.A,{fullWidth:!0,label:"Address *",name:"address",value:v.address,onChange:w,error:!!f.address,helperText:f.address,variant:"outlined",multiline:!0,rows:2})}),(0,y.jsx)(i.A,{item:!0,xs:12,md:6,children:(0,y.jsx)(o.A,{fullWidth:!0,label:"City *",name:"city",value:v.city,onChange:w,error:!!f.city,helperText:f.city,variant:"outlined"})}),(0,y.jsx)(i.A,{item:!0,xs:12,md:6,children:(0,y.jsx)(o.A,{fullWidth:!0,label:"State/Province",name:"state",value:v.state,onChange:w,variant:"outlined"})}),(0,y.jsx)(i.A,{item:!0,xs:12,md:6,children:(0,y.jsx)(o.A,{fullWidth:!0,label:"Country *",name:"country",value:v.country,onChange:w,error:!!f.country,helperText:f.country,variant:"outlined"})}),(0,y.jsx)(i.A,{item:!0,xs:12,md:6,children:(0,y.jsx)(o.A,{fullWidth:!0,label:"Postal Code",name:"postalCode",value:v.postalCode,onChange:w,variant:"outlined"})}),(0,y.jsx)(i.A,{item:!0,xs:12,children:(0,y.jsxs)(c.A,{fullWidth:!0,children:[(0,y.jsx)(d.A,{children:"Services Required"}),(0,y.jsx)(x.A,{multiple:!0,name:"services",value:v.services,onChange:e=>{const{value:t}=e.target;g((e=>(0,n.A)((0,n.A)({},e),{},{services:"string"===typeof t?t.split(","):t})))},input:(0,y.jsx)(u.A,{label:"Services Required"}),renderValue:e=>(0,y.jsx)(r.A,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:e.map((e=>(0,y.jsx)(m.A,{label:e,size:"small"},e)))}),children:["Fit-out Projects","MEP Engineering","Project Management","Design & Planning","Construction","Renovation","Maintenance","Consulting","Interior Design","Procurement"].map((e=>(0,y.jsx)(h.A,{value:e,children:e},e)))})]})}),(0,y.jsx)(i.A,{item:!0,xs:12,children:(0,y.jsx)(o.A,{fullWidth:!0,label:"Notes",name:"notes",value:v.notes,onChange:w,variant:"outlined",multiline:!0,rows:3,placeholder:"Additional notes about the client..."})}),(0,y.jsx)(i.A,{item:!0,xs:12,children:(0,y.jsxs)(r.A,{sx:{display:"flex",gap:2,justifyContent:"flex-end",mt:2},children:[j&&(0,y.jsx)(p.A,{onClick:j,variant:"outlined",sx:{borderRadius:"8px",textTransform:"none",fontWeight:600},children:"Cancel"}),(0,y.jsx)(p.A,{type:"submit",variant:"contained",sx:{borderRadius:"8px",textTransform:"none",fontWeight:600,px:4},children:l?"Update Client":"Create Client"})]})})]})})}},77539:(e,t,l)=>{l.d(t,{A:()=>g});l(65043);var n=l(10256),a=l(79067),r=l(84938),i=l(36196),s=l(47471),o=l(53969),c=l(83759),d=l(24343),x=l(19e3),h=l(94799),u=l(55895),m=l(41859),p=l(94527),A=l(53089),y=l(53541),j=l(24793),b=l(5984),v=l(70579);const g=e=>{let{show:t,filters:l,onFilterChange:g,onClearFilters:f,onApplyQuickFilter:C,filterConfig:w,quickFilters:k=[]}=e;const S=(e,t)=>{g(e,t)},z=e=>{const{key:t,label:x,type:h,options:u,placeholder:m}=e,p=l[t]||"";switch(h){case"select":return(0,v.jsxs)(n.A,{fullWidth:!0,size:"small",children:[(0,v.jsx)(a.A,{children:x}),(0,v.jsxs)(r.A,{value:p,onChange:e=>S(t,e.target.value),input:(0,v.jsx)(i.A,{label:x}),children:[(0,v.jsxs)(s.A,{value:"",children:["All ",x]}),u.map((e=>(0,v.jsx)(s.A,{value:e.value,children:e.label},e.value)))]})]});case"multiselect":return(0,v.jsxs)(n.A,{fullWidth:!0,size:"small",children:[(0,v.jsx)(a.A,{children:x}),(0,v.jsx)(r.A,{multiple:!0,value:Array.isArray(p)?p:[],onChange:e=>S(t,e.target.value),input:(0,v.jsx)(i.A,{label:x}),renderValue:e=>(0,v.jsx)(o.A,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:e.map((e=>{const t=u.find((t=>t.value===e));return(0,v.jsx)(c.A,{label:t?t.label:e,size:"small"},e)}))}),children:u.map((e=>(0,v.jsx)(s.A,{value:e.value,children:e.label},e.value)))})]});case"date":return(0,v.jsx)(j.$,{dateAdapter:b.h,children:(0,v.jsx)(y.l,{label:x,value:p||null,onChange:e=>S(t,e),slotProps:{textField:{size:"small",fullWidth:!0}}})});case"number":return(0,v.jsx)(d.A,{fullWidth:!0,size:"small",label:x,type:"number",value:p,onChange:e=>S(t,e.target.value),placeholder:m});default:return(0,v.jsx)(d.A,{fullWidth:!0,size:"small",label:x,value:p,onChange:e=>S(t,e.target.value),placeholder:m})}},W=()=>Object.values(l).filter((e=>Array.isArray(e)?e.length>0:e instanceof Date||""!==e&&null!==e&&void 0!==e)).length;return(0,v.jsx)(x.A,{in:t,children:(0,v.jsxs)(h.A,{sx:{p:3,mb:3,backgroundColor:"grey.50",border:1,borderColor:"divider"},children:[(0,v.jsxs)(o.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,v.jsxs)(u.A,{variant:"h6",component:"h3",children:["Filters (",W()," active)"]}),(0,v.jsx)(m.A,{variant:"outlined",size:"small",onClick:f,disabled:0===W(),children:"Clear All"})]}),k.length>0&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(u.A,{variant:"subtitle2",sx:{mb:1,fontWeight:600},children:"Quick Filters"}),(0,v.jsx)(o.A,{sx:{display:"flex",flexWrap:"wrap",gap:1,mb:2},children:k.map((e=>(0,v.jsx)(c.A,{label:e.label,onClick:()=>C(e),variant:"outlined",size:"small",sx:{"&:hover":{backgroundColor:"primary.light",color:"white"}}},e.key)))}),(0,v.jsx)(p.A,{sx:{mb:2}})]}),(0,v.jsx)(A.A,{container:!0,spacing:2,children:w.map((e=>(0,v.jsx)(A.A,{item:!0,xs:12,sm:6,md:4,children:z(e)},e.key)))}),W()>0&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(p.A,{sx:{my:2}}),(0,v.jsx)(u.A,{variant:"subtitle2",sx:{mb:1,fontWeight:600},children:"Active Filters"}),(0,v.jsx)(o.A,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:Object.entries(l).map((e=>{let[t,l]=e;if(Array.isArray(l)&&0===l.length)return null;if(!l||""===l)return null;const n=w.find((e=>e.key===t));if(!n)return null;let a=l;if(Array.isArray(l))a=l.map((e=>{var t;const l=null===(t=n.options)||void 0===t?void 0:t.find((t=>t.value===e));return l?l.label:e})).join(", ");else if(n.options){const e=n.options.find((e=>e.value===l));a=e?e.label:l}else l instanceof Date&&(a=l.toLocaleDateString());return(0,v.jsx)(c.A,{label:"".concat(n.label,": ").concat(a),onDelete:()=>(e=>{g(e,"")})(t),color:"primary",variant:"outlined",size:"small"},t)})).filter(Boolean)})]})]})})}},84029:(e,t,l)=>{l.r(t),l.d(t,{default:()=>q});var n=l(89379),a=l(65043),r=l(53969),i=l(55895),s=l(53089),o=l(91244),c=l(16128),d=l(33539),x=l(83759),h=l(42579),u=l(26529),m=l(62055),p=l(47471),A=l(79801),y=l(66185),j=l(38517),b=l(81911),v=l(78776),g=l(85877),f=l(41859),C=l(3665),w=l(61773),k=l(5362),S=l(70923),z=l(12043),W=l(90160),P=l(4573),F=l(23241),N=l(99992),E=l(70579);const D=(0,N.A)((0,E.jsx)("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7m0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5"}),"LocationOn"),I=(0,N.A)((0,E.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2m6.93 6h-2.95c-.32-1.25-.78-2.45-1.38-3.56 1.84.63 3.37 1.91 4.33 3.56M12 4.04c.83 1.2 1.48 2.53 1.91 3.96h-3.82c.43-1.43 1.08-2.76 1.91-3.96M4.26 14C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2s.06 1.34.14 2zm.82 2h2.95c.32 1.25.78 2.45 1.38 3.56-1.84-.63-3.37-1.9-4.33-3.56m2.95-8H5.08c.96-1.66 2.49-2.93 4.33-3.56C8.81 5.55 8.35 6.75 8.03 8M12 19.96c-.83-1.2-1.48-2.53-1.91-3.96h3.82c-.43 1.43-1.08 2.76-1.91 3.96M14.34 14H9.66c-.09-.66-.16-1.32-.16-2s.07-1.35.16-2h4.68c.09.65.16 1.32.16 2s-.07 1.34-.16 2m.25 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95c-.96 1.65-2.49 2.93-4.33 3.56M16.36 14c.08-.66.14-1.32.14-2s-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2z"}),"Language");var T=l(42509),M=l(53481),R=l(34879),O=l(77539),V=l(19981),L=l(15917);const q=e=>{let{clients:t,onUpdateClient:l,onDeleteClient:N,onAddClient:q,viewMode:B,onViewModeChange:U}=e;const{showNotification:H}=(0,T.hN)(),[G,_]=(0,a.useState)(null),[Q,$]=(0,a.useState)(null),[J,Y]=(0,a.useState)(!1),[Z,K]=(0,a.useState)(!1),[X,ee]=(0,a.useState)(""),[te,le]=(0,a.useState)(!1),[ne,ae]=(0,a.useState)("card"),[re,ie]=(0,a.useState)("companyName"),[se,oe]=(0,a.useState)("asc"),[ce,de]=(0,a.useState)({status:"",industry:"",companySize:"",services:[]}),xe=()=>{_(null),$(null)},he=e=>{switch(e){case"active":return"#4CAF50";case"inactive":default:return"#757575";case"potential":return"#FF9800"}},ue=e=>e.split(" ").map((e=>e.charAt(0))).join("").substring(0,2).toUpperCase(),me=[{key:"status",label:"Status",type:"select",options:[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"},{value:"potential",label:"Potential"}]},{key:"industry",label:"Industry",type:"select",options:[{value:"construction",label:"Construction"},{value:"finance",label:"Finance"},{value:"technology",label:"Technology"},{value:"healthcare",label:"Healthcare"},{value:"retail",label:"Retail"},{value:"manufacturing",label:"Manufacturing"},{value:"education",label:"Education"},{value:"government",label:"Government"},{value:"hospitality",label:"Hospitality"},{value:"real_estate",label:"Real Estate"},{value:"automotive",label:"Automotive"},{value:"other",label:"Other"}]},{key:"companySize",label:"Company Size",type:"select",options:[{value:"startup",label:"Startup (1-10)"},{value:"small",label:"Small (11-50)"},{value:"medium",label:"Medium (51-200)"},{value:"large",label:"Large (201-1000)"},{value:"enterprise",label:"Enterprise (1000+)"}]},{key:"services",label:"Services Required",type:"multiselect",options:[{value:"general-contractor",label:"General Contractor"},{value:"fit-out",label:"Fit-out"},{value:"mep",label:"MEP"},{value:"electrical",label:"Electrical"},{value:"millwork",label:"Millwork"},{value:"management",label:"Project Management"}]}],pe=[{key:"company",label:"Company",sortable:!0,type:"avatar",render:(e,t)=>({fallback:ue(t.companyName),bgColor:"#E67E22",text:t.companyName})},{key:"contactPersonName",label:"Contact Person",sortable:!0},{key:"contactPersonTitle",label:"Title",sortable:!0},{key:"industry",label:"Industry",render:e=>{const t=me.find((e=>"industry"===e.key)),l=null===t||void 0===t?void 0:t.options.find((t=>t.value===e));return l?l.label:e}},{key:"email",label:"Email",type:"email"},{key:"phone",label:"Phone",type:"phone"},{key:"status",label:"Status",type:"chip",render:e=>({label:e.charAt(0).toUpperCase()+e.slice(1),color:he(e),bgColor:"".concat(he(e),"20")})}],Ae=[{key:"view",label:"View Details",icon:(0,E.jsx)(C.A,{})},{key:"edit",label:"Edit Client",icon:(0,E.jsx)(w.A,{})},{key:"delete",label:"Delete Client",icon:(0,E.jsx)(k.A,{})}],ye=(0,a.useMemo)((()=>{let e=t.filter((e=>{const t=X.toLowerCase(),l=!X||(e.companyName||"").toLowerCase().includes(t)||(e.contactPersonName||"").toLowerCase().includes(t)||(e.email||"").toLowerCase().includes(t)||(e.industry||"").toLowerCase().includes(t),n=!ce.status||e.status===ce.status,a=!ce.industry||e.industry===ce.industry,r=!ce.companySize||e.companySize===ce.companySize,i=!ce.services.length||e.services&&ce.services.some((t=>e.services.includes(t)));return l&&n&&a&&r&&i}));return e.sort(((e,t)=>{let l,n;switch(re){case"company":case"companyName":l=(e.companyName||"").toLowerCase(),n=(t.companyName||"").toLowerCase();break;case"contactPersonName":l=(e.contactPersonName||"").toLowerCase(),n=(t.contactPersonName||"").toLowerCase();break;case"industry":l=e.industry||"",n=t.industry||"";break;case"status":l=e.status||"",n=t.status||"";break;default:return 0}return l<n?"asc"===se?-1:1:l>n?"asc"===se?1:-1:0})),e}),[t,X,ce,re,se]),je=Object.entries(ce).filter((e=>{let[t,l]=e;return Array.isArray(l)?l.length>0:""!==l})).map((e=>{let[t,l]=e,n=t.charAt(0).toUpperCase()+t.slice(1).replace(/([A-Z])/g," $1"),a=l;if("industry"===t||"status"===t||"companySize"===t){const e=me.find((e=>e.key===t)),n=null===e||void 0===e?void 0:e.options.find((e=>e.value===l));a=n?n.label:l}else if(Array.isArray(l)){const e=me.find((e=>e.key===t));a=l.map((t=>{const l=null===e||void 0===e?void 0:e.options.find((e=>e.value===t));return l?l.label:t})).join(", ")}return{key:t,label:n,value:a}})),be=()=>{de({status:"",industry:"",companySize:"",services:[]})},ve=e=>{"all"===e?be():de("services"===e?t=>(0,n.A)((0,n.A)({},t),{},{[e]:[]}):t=>(0,n.A)((0,n.A)({},t),{},{[e]:""}))},ge=()=>{(0,L.HI)(ye)};return 0===t.length?(0,E.jsxs)(r.A,{children:[(0,E.jsx)(R.A,{title:"Clients",searchValue:X,onSearchChange:ee,showFilters:te,onToggleFilters:()=>le(!te),activeFiltersCount:je.length,viewMode:ne,onViewModeChange:ae,onExport:ge,onAdd:q,addButtonText:"Add Client",activeFilters:je,onClearFilter:ve}),(0,E.jsxs)(r.A,{sx:{textAlign:"center",py:8},children:[(0,E.jsx)(S.A,{sx:{fontSize:64,color:"#BDC3C7",mb:2}}),(0,E.jsx)(i.A,{variant:"h6",color:"textSecondary",gutterBottom:!0,children:"No Clients Found"}),(0,E.jsx)(i.A,{variant:"body2",color:"textSecondary",children:"Start by adding your first client to manage their information and projects."})]})]}):(0,E.jsxs)(r.A,{children:[(0,E.jsx)(R.A,{title:"Clients",searchValue:X,onSearchChange:ee,showFilters:te,onToggleFilters:()=>le(!te),activeFiltersCount:je.length,viewMode:ne,onViewModeChange:ae,onExport:ge,onAdd:q,addButtonText:"Add Client",activeFilters:je,onClearFilter:ve}),(0,E.jsx)(O.A,{show:te,filters:ce,onFilterChange:(e,t)=>{de((l=>(0,n.A)((0,n.A)({},l),{},{[e]:t})))},onClearFilters:be,onApplyQuickFilter:e=>{de((t=>(0,n.A)((0,n.A)({},t),e.filters)))},filterConfig:me,quickFilters:[{key:"active",label:"Active Clients",filters:{status:"active"}},{key:"potential",label:"Potential Clients",filters:{status:"potential"}},{key:"construction",label:"Construction",filters:{industry:"construction"}},{key:"finance",label:"Finance",filters:{industry:"finance"}},{key:"large",label:"Large Companies",filters:{companySize:"large"}}]}),"table"===ne&&(0,E.jsx)(V.A,{data:ye,columns:pe,onSort:(e,t)=>{ie(e),oe(t)},sortBy:re,sortDirection:se,onRowAction:(e,t)=>{switch($(t),e){case"view":console.log("View client:",t);break;case"edit":Y(!0);break;case"delete":K(!0);break;default:console.log("Unknown action:",e)}},actions:Ae,emptyStateMessage:"No clients match your filters",emptyStateIcon:S.A}),"card"===ne&&(0,E.jsx)(s.A,{container:!0,spacing:3,children:0===ye.length?(0,E.jsx)(s.A,{item:!0,xs:12,children:(0,E.jsxs)(r.A,{sx:{textAlign:"center",py:4},children:[(0,E.jsx)(S.A,{sx:{fontSize:64,color:"text.secondary",mb:2}}),(0,E.jsx)(i.A,{variant:"body1",color:"text.secondary",children:"No clients match your filters"})]})}):ye.map((e=>(0,E.jsx)(s.A,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,E.jsx)(o.A,{elevation:0,sx:{border:"1px solid #E9ECEF",borderRadius:3,height:320,display:"flex",flexDirection:"column",transition:"all 0.2s ease-in-out","&:hover":{transform:"translateY(-2px)",boxShadow:"0 8px 25px rgba(0,0,0,0.1)"}},children:(0,E.jsxs)(c.A,{sx:{p:2,flexGrow:1,display:"flex",flexDirection:"column"},children:[(0,E.jsxs)(r.A,{sx:{display:"flex",alignItems:"flex-start",mb:2},children:[(0,E.jsx)(d.A,{sx:{bgcolor:"#E67E22",width:48,height:48,mr:2,fontSize:"1.1rem",fontWeight:600},children:ue(e.companyName)}),(0,E.jsxs)(r.A,{sx:{flex:1,minWidth:0},children:[(0,E.jsx)(i.A,{variant:"h6",sx:{fontWeight:600,color:"#2C3E50",mb:.5,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.companyName}),(0,E.jsx)(x.A,{label:e.status,size:"small",sx:{backgroundColor:he(e.status),color:"white",fontWeight:500,textTransform:"capitalize"}})]}),(0,E.jsx)(h.A,{size:"small",onClick:t=>((e,t)=>{_(e.currentTarget),$(t)})(t,e),sx:{color:"#7F8C8D"},children:(0,E.jsx)(z.A,{})})]}),e.industry&&(0,E.jsxs)(r.A,{sx:{display:"flex",alignItems:"center",mb:1.5},children:[(0,E.jsx)(S.A,{sx:{fontSize:16,color:"#7F8C8D",mr:1}}),(0,E.jsx)(i.A,{variant:"body2",color:"textSecondary",children:e.industry})]}),e.contactPersonName&&(0,E.jsxs)(r.A,{sx:{display:"flex",alignItems:"center",mb:1.5},children:[(0,E.jsx)(W.A,{sx:{fontSize:16,color:"#7F8C8D",mr:1}}),(0,E.jsxs)(i.A,{variant:"body2",color:"textSecondary",children:[e.contactPersonName,e.contactPersonTitle&&" - ".concat(e.contactPersonTitle)]})]}),e.email&&(0,E.jsxs)(r.A,{sx:{display:"flex",alignItems:"center",mb:1.5},children:[(0,E.jsx)(P.A,{sx:{fontSize:16,color:"#7F8C8D",mr:1}}),(0,E.jsx)(i.A,{variant:"body2",color:"textSecondary",sx:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.email})]}),e.phone&&(0,E.jsxs)(r.A,{sx:{display:"flex",alignItems:"center",mb:1.5},children:[(0,E.jsx)(F.A,{sx:{fontSize:16,color:"#7F8C8D",mr:1}}),(0,E.jsx)(i.A,{variant:"body2",color:"textSecondary",children:e.phone})]}),e.city&&e.country&&(0,E.jsxs)(r.A,{sx:{display:"flex",alignItems:"center",mb:1.5},children:[(0,E.jsx)(D,{sx:{fontSize:16,color:"#7F8C8D",mr:1}}),(0,E.jsxs)(i.A,{variant:"body2",color:"textSecondary",children:[e.city,", ",e.country]})]}),e.website&&(0,E.jsxs)(r.A,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,E.jsx)(I,{sx:{fontSize:16,color:"#7F8C8D",mr:1}}),(0,E.jsx)(i.A,{variant:"body2",color:"primary",component:"a",href:e.website,target:"_blank",rel:"noopener noreferrer",sx:{textDecoration:"none","&:hover":{textDecoration:"underline"},overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.website})]}),e.services&&e.services.length>0&&(0,E.jsxs)(r.A,{children:[(0,E.jsx)(i.A,{variant:"caption",color:"textSecondary",sx:{mb:1,display:"block"},children:"Services Required:"}),(0,E.jsxs)(r.A,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:[e.services.slice(0,3).map((e=>(0,E.jsx)(x.A,{label:e,size:"small",variant:"outlined",sx:{fontSize:"0.7rem",height:24,borderColor:"#E67E22",color:"#E67E22"}},e))),e.services.length>3&&(0,E.jsx)(u.A,{title:e.services.slice(3).join(", "),arrow:!0,children:(0,E.jsx)(x.A,{label:"+".concat(e.services.length-3," more"),size:"small",variant:"outlined",sx:{fontSize:"0.7rem",height:24,borderColor:"#BDC3C7",color:"#7F8C8D"}})})]})]})]})})},e.id)))}),(0,E.jsxs)(m.A,{anchorEl:G,open:Boolean(G),onClose:xe,transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[(0,E.jsxs)(p.A,{onClick:()=>{Y(!0),xe()},children:[(0,E.jsx)(A.A,{children:(0,E.jsx)(w.A,{fontSize:"small"})}),(0,E.jsx)(y.A,{children:"Edit Client"})]}),(0,E.jsxs)(p.A,{onClick:()=>{K(!0),xe()},sx:{color:"error.main"},children:[(0,E.jsx)(A.A,{children:(0,E.jsx)(k.A,{fontSize:"small",color:"error"})}),(0,E.jsx)(y.A,{children:"Delete Client"})]})]}),(0,E.jsxs)(j.A,{open:J,onClose:()=>Y(!1),maxWidth:"md",fullWidth:!0,children:[(0,E.jsx)(b.A,{children:"Edit Client"}),(0,E.jsx)(v.A,{children:Q&&(0,E.jsx)(M.default,{onSubmit:e=>{l(Q.id,e),Y(!1),$(null)},initialData:Q,onCancel:()=>Y(!1)})})]}),(0,E.jsxs)(j.A,{open:Z,onClose:()=>K(!1),maxWidth:"sm",children:[(0,E.jsx)(b.A,{children:"Confirm Delete"}),(0,E.jsx)(v.A,{children:(0,E.jsxs)(i.A,{children:["Are you sure you want to delete ",null===Q||void 0===Q?void 0:Q.companyName,"? This action cannot be undone."]})}),(0,E.jsxs)(g.A,{children:[(0,E.jsx)(f.A,{onClick:()=>K(!1),children:"Cancel"}),(0,E.jsx)(f.A,{onClick:()=>{N(Q.id),K(!1),$(null),H("Client deleted successfully","success")},color:"error",variant:"contained",children:"Delete"})]})]})]})}}}]);
//# sourceMappingURL=29.fafc6436.chunk.js.map