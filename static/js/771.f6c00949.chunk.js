"use strict";(self.webpackChunkformula_project_app=self.webpackChunkformula_project_app||[]).push([[771],{5362:(e,l,o)=>{o.d(l,{A:()=>s});var c=o(99992),t=o(70579);const s=(0,c.A)((0,t.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")},35771:(e,l,o)=>{o.r(l),o.d(l,{default:()=>C});o(65043);var c=o(53969),t=o(55895),s=o(53089),r=o(91244),n=o(16128),a=o(83759),i=o(42579),d=o(41859),x=o(99992),p=o(70579);const h=(0,x.A)((0,p.jsx)("path",{d:"m22.7 19-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6 6 9 1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l2.3-2.3c.5-.4.5-1.1.1-1.4"}),"Build"),b=(0,x.A)((0,p.jsx)("path",{d:"M19.73 14.23 7 1.5 3.11 5.39l8.13 11.67c-.78.78-.78 2.05 0 2.83l1.41 1.41c.78.78 2.05.78 2.83 0l4.24-4.24c.79-.78.79-2.05.01-2.83m-5.66 5.65-1.41-1.41 4.24-4.24 1.41 1.41z"}),"Carpenter"),f=(0,x.A)([(0,p.jsx)("path",{d:"M21 14c0-.55-.45-1-1-1h-2v2h2c.55 0 1-.45 1-1m-1 3h-2v2h2c.55 0 1-.45 1-1s-.45-1-1-1m-8-3h-2v4h2c0 1.1.9 2 2 2h3v-8h-3c-1.1 0-2 .9-2 2"},"0"),(0,p.jsx)("path",{d:"M5 13c0-1.1.9-2 2-2h1.5c1.93 0 3.5-1.57 3.5-3.5S10.43 4 8.5 4H5c-.55 0-1 .45-1 1s.45 1 1 1h3.5c.83 0 1.5.67 1.5 1.5S9.33 9 8.5 9H7c-2.21 0-4 1.79-4 4s1.79 4 4 4h2v-2H7c-1.1 0-2-.9-2-2"},"1")],"ElectricalServices"),g=(0,x.A)((0,p.jsx)("path",{d:"M9 15c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4m13.1-8.16c.01-.11.02-.22.02-.34s-.01-.23-.03-.34l.74-.58c.07-.05.08-.15.04-.22l-.7-1.21c-.04-.08-.14-.1-.21-.08l-.86.35c-.18-.14-.38-.25-.59-.34l-.13-.93c-.02-.09-.09-.15-.18-.15h-1.4c-.09 0-.16.06-.17.15l-.13.93c-.21.09-.41.21-.59.34l-.87-.35c-.08-.03-.17 0-.21.08l-.7 1.21c-.04.08-.03.17.04.22l.74.58c-.02.11-.03.23-.03.34s.01.23.03.34l-.74.58c-.07.05-.08.15-.04.22l.7 1.21c.04.08.14.1.21.08l.87-.35c.18.14.38.25.59.34l.13.93c.01.09.08.15.17.15h1.4c.09 0 .16-.06.17-.15l.13-.93c.21-.09.41-.21.59-.34l.87.35c.08.03.17 0 .21-.08l.7-1.21c.04-.08.03-.17-.04-.22zm-2.6.91c-.69 0-1.25-.56-1.25-1.25s.56-1.25 1.25-1.25 1.25.56 1.25 1.25-.56 1.25-1.25 1.25m.42 3.93-.5-.87c-.03-.06-.1-.08-.15-.06l-.62.25q-.195-.15-.42-.24l-.09-.66c-.02-.06-.08-.1-.14-.1h-1c-.06 0-.11.04-.12.11l-.09.66c-.15.06-.29.15-.42.24l-.62-.25c-.06-.02-.12 0-.15.06l-.5.87c-.03.06-.02.12.03.16l.53.41c-.01.08-.02.16-.02.24s.01.17.02.24l-.53.41c-.05.04-.06.11-.03.16l.5.87c.03.06.1.08.15.06l.62-.25q.195.15.42.24l.09.66c.01.07.06.11.12.11h1c.06 0 .12-.04.12-.11l.09-.66c.15-.06.29-.15.42-.24l.62.25c.06.02.12 0 .15-.06l.5-.87c.03-.06.02-.12-.03-.16l-.52-.41c.01-.08.02-.16.02-.24s-.01-.17-.02-.24l.53-.41c.05-.04.06-.11.04-.17m-2.42 1.65c-.46 0-.83-.38-.83-.83 0-.46.38-.83.83-.83s.83.38.83.83c0 .46-.37.83-.83.83M4.74 9h8.53c.27 0 .49-.22.49-.49v-.02c0-.27-.22-.49-.49-.49H13c0-1.48-.81-2.75-2-3.45v.95c0 .28-.22.5-.5.5s-.5-.22-.5-.5V4.14C9.68 4.06 9.35 4 9 4s-.68.06-1 .14V5.5c0 .28-.22.5-.5.5S7 5.78 7 5.5v-.95C5.81 5.25 5 6.52 5 8h-.26c-.27 0-.49.22-.49.49v.03c0 .26.22.48.49.48M9 13c1.86 0 3.41-1.28 3.86-3H5.14c.45 1.72 2 3 3.86 3"}),"Engineering");var m=o(70923),j=o(5362),u=o(63898);const A={"general-contractor":{label:"General Contractor",icon:(0,p.jsx)(h,{}),color:"#e67e22",bgColor:"#fef5e7"},"fit-out":{label:"Fit-out (Legacy)",icon:(0,p.jsx)(h,{}),color:"#e67e22",bgColor:"#fef5e7"},millwork:{label:"Millwork",icon:(0,p.jsx)(b,{}),color:"#8e44ad",bgColor:"#f4ecf7"},electrical:{label:"Electrical",icon:(0,p.jsx)(f,{}),color:"#f1c40f",bgColor:"#fffbf0"},mep:{label:"MEP",icon:(0,p.jsx)(g,{}),color:"#1abc9c",bgColor:"#e8f8f5"},management:{label:"Management",icon:(0,p.jsx)(m.A,{}),color:"#37444B",bgColor:"#f5f5f5"}},v={"on-tender":{label:"On Tender",color:"#3498db",bgColor:"#ebf3fd"},awarded:{label:"Awarded",color:"#27ae60",bgColor:"#eafaf1"},"on-hold":{label:"On Hold",color:"#f39c12",bgColor:"#fef9e7"},"not-awarded":{label:"Not Awarded",color:"#e74c3c",bgColor:"#fdedec"},active:{label:"Active",color:"#9b59b6",bgColor:"#f4ecf7"},completed:{label:"Completed",color:"#2c3e50",bgColor:"#eaeded"}};const C=function(e){let{projects:l,tasks:o,clients:x=[],onDeleteProject:b,onManageScope:f}=e;if(0===l.length)return(0,p.jsx)(c.A,{sx:{textAlign:"center",py:4},children:(0,p.jsx)(t.A,{variant:"body1",color:"text.secondary",children:"No projects created yet. Create your first project to get started!"})});const g=e=>{const l=x.find((l=>l.id===e));return l?l.companyName:"No Client Assigned"},C=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return(0,p.jsx)(s.A,{container:!0,spacing:3,children:l.map((e=>{const l=A[e.type]||{label:"General Contractor",icon:(0,p.jsx)(h,{}),color:"#e67e22",bgColor:"#fef5e7"},x=(e=>{const l=o.filter((l=>l.projectId===e));if(0===l.length)return 0;const c=l.filter((e=>"completed"===e.status)).length;return Math.round(c/l.length*100)})(e.id),y=(e=>{const l=o.filter((l=>l.projectId===e)),c=l.filter((e=>"completed"===e.status)).length,t=l.filter((e=>{const l=new Date;return l.setHours(0,0,0,0),"completed"!==e.status&&new Date(e.dueDate)<l})).length;return{total:l.length,completed:c,pending:l.length-c,overdue:t}})(e.id),w=(e=>e.status||"on-tender")(e),z=v[w]||{label:"On Tender",color:"#3498db",bgColor:"#ebf3fd"};return(0,p.jsx)(s.A,{item:!0,xs:12,md:6,children:(0,p.jsx)(r.A,{className:"project-card construction-card type-".concat(e.type),sx:{cursor:"pointer",position:"relative",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"},onClick:()=>{},children:(0,p.jsxs)(n.A,{children:[(0,p.jsxs)(c.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:2},children:[(0,p.jsxs)(c.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,p.jsx)(c.A,{sx:{color:l.color},children:l.icon}),(0,p.jsx)(a.A,{label:l.label,size:"small",sx:{backgroundColor:l.bgColor,color:l.color,fontWeight:"bold"}})]}),(0,p.jsx)(a.A,{label:z.label,size:"small",sx:{backgroundColor:z.bgColor,color:z.color,fontWeight:"bold"}}),(0,p.jsx)(i.A,{size:"small",onClick:l=>{var o,c;l.stopPropagation(),o=e.id,c=e.name,window.confirm('Are you sure you want to delete "'.concat(c,'"? This will also delete all associated tasks.'))&&b(o)},sx:{color:"#e74c3c"},children:(0,p.jsx)(j.A,{fontSize:"small"})})]}),(0,p.jsx)(t.A,{variant:"h6",component:"h3",gutterBottom:!0,sx:{color:"#3498db",cursor:"pointer",textDecoration:"none","&:hover":{textDecoration:"underline",color:"#2980b9"}},onClick:l=>{l.stopPropagation(),f&&f(e)},children:e.name}),e.clientId&&(0,p.jsxs)(c.A,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[(0,p.jsx)(m.A,{fontSize:"small",color:"action"}),(0,p.jsxs)(t.A,{variant:"body2",color:"text.secondary",children:["Client: ",g(e.clientId)]})]}),(0,p.jsxs)(c.A,{sx:{display:"flex",alignItems:"center",gap:1,mb:2},children:[(0,p.jsx)(u.A,{fontSize:"small",color:"action"}),(0,p.jsxs)(t.A,{variant:"body2",color:"text.secondary",children:[C(e.startDate)," - ",C(e.endDate)]})]}),(0,p.jsxs)(c.A,{sx:{mb:2},children:[(0,p.jsxs)(c.A,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[(0,p.jsx)(t.A,{variant:"body2",color:"text.secondary",children:"Progress"}),(0,p.jsxs)(t.A,{variant:"body2",color:"text.secondary",children:[x,"%"]})]}),(0,p.jsx)("div",{className:"construction-progress",children:(0,p.jsx)("div",{className:"construction-progress-fill",style:{width:"".concat(x,"%")}})})]}),(0,p.jsx)(c.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:(0,p.jsxs)(c.A,{sx:{display:"flex",gap:1,flexWrap:"wrap"},children:[(0,p.jsxs)("span",{className:"status-badge status-badge-todo",style:{fontSize:"11px",padding:"2px 6px"},children:[y.total," total"]}),(0,p.jsxs)("span",{className:"status-badge status-badge-completed",style:{fontSize:"11px",padding:"2px 6px"},children:[y.completed," done"]}),y.overdue>0&&(0,p.jsxs)("span",{className:"status-badge status-badge-cancelled",style:{fontSize:"11px",padding:"2px 6px"},children:[y.overdue," overdue"]})]})}),(0,p.jsx)(d.A,{size:"small",variant:"outlined",fullWidth:!0,onClick:e=>{e.stopPropagation()},sx:{borderRadius:"8px",textTransform:"none",fontWeight:500},children:"View Details"})]})})},e.id)}))})}},63898:(e,l,o)=>{o.d(l,{A:()=>s});var c=o(99992),t=o(70579);const s=(0,c.A)((0,t.jsx)("path",{d:"M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 18H4V8h16z"}),"CalendarToday")}}]);
//# sourceMappingURL=771.f6c00949.chunk.js.map