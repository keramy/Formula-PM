"use strict";(self.webpackChunkformula_project_app=self.webpackChunkformula_project_app||[]).push([[177],{20177:(e,t,a)=>{a.r(t),a.d(t,{default:()=>A});var l=a(89379),n=a(65043),r=a(53969),i=a(56803),s=a(24343),d=a(47471),u=a(10256),c=a(79067),o=a(84938),p=a(41859),m=a(53541),h=a(24793),D=a(5984),v=a(70579);const j=[{value:"general-contractor",label:"General Contractor"},{value:"millwork",label:"Millwork"},{value:"electrical",label:"Electrical"},{value:"mep",label:"MEP"},{value:"management",label:"Management"}],x=[{value:"on-tender",label:"On Tender"},{value:"awarded",label:"Awarded"},{value:"on-hold",label:"On Hold"},{value:"not-awarded",label:"Not Awarded"},{value:"active",label:"Active"},{value:"completed",label:"Completed"}];const A=function(e){let{onSubmit:t,clients:a=[],initialProject:A=null}=e;const[b,f]=(0,n.useState)(A?{name:A.name||"",type:A.type||"",startDate:A.startDate?new Date(A.startDate):null,endDate:A.endDate?new Date(A.endDate):null,clientId:A.clientId||"",status:A.status||"on-tender",description:A.description||""}:{name:"",type:"",startDate:null,endDate:null,clientId:"",status:"on-tender",description:""}),[y,g]=(0,n.useState)({}),[C,S]=(0,n.useState)(!1),I=e=>t=>{f((0,l.A)((0,l.A)({},b),{},{[e]:t.target.value})),y[e]&&g((0,l.A)((0,l.A)({},y),{},{[e]:""}))},P=e=>t=>{f((0,l.A)((0,l.A)({},b),{},{[e]:t})),y[e]&&g((0,l.A)((0,l.A)({},y),{},{[e]:""}))};return(0,v.jsx)(h.$,{dateAdapter:D.h,children:(0,v.jsxs)(r.A,{component:"form",onSubmit:e=>{if(e.preventDefault(),(()=>{const e={};return b.name.trim()||(e.name="Project name is required"),b.type||(e.type="Project type is required"),b.startDate||(e.startDate="Start date is required"),b.endDate||(e.endDate="End date is required"),b.clientId||(e.clientId="Client selection is required"),b.startDate&&b.endDate&&b.startDate>=b.endDate&&(e.endDate="End date must be after start date"),g(e),0===Object.keys(e).length})()){const e=(0,l.A)((0,l.A)({},b),{},{startDate:b.startDate.toISOString().split("T")[0],endDate:b.endDate.toISOString().split("T")[0]});A&&(e.id=A.id),t(e),A||f({name:"",type:"",startDate:null,endDate:null,clientId:"",status:"on-tender",description:""}),S(!0),setTimeout((()=>S(!1)),3e3)}},sx:{display:"flex",flexDirection:"column",gap:2},children:[C&&(0,v.jsx)(i.A,{severity:"success",children:"Project created successfully!"}),(0,v.jsx)(s.A,{label:"Project Name",value:b.name,onChange:I("name"),error:!!y.name,helperText:y.name,fullWidth:!0,required:!0}),(0,v.jsx)(s.A,{select:!0,label:"Project Type",value:b.type,onChange:I("type"),error:!!y.type,helperText:y.type,fullWidth:!0,required:!0,children:j.map((e=>(0,v.jsx)(d.A,{value:e.value,children:e.label},e.value)))}),(0,v.jsx)(m.l,{label:"Start Date",value:b.startDate,onChange:P("startDate"),slotProps:{textField:{error:!!y.startDate,helperText:y.startDate,fullWidth:!0,required:!0}}}),(0,v.jsx)(m.l,{label:"End Date",value:b.endDate,onChange:P("endDate"),slotProps:{textField:{error:!!y.endDate,helperText:y.endDate,fullWidth:!0,required:!0}}}),(0,v.jsxs)(u.A,{fullWidth:!0,required:!0,error:!!y.clientId,children:[(0,v.jsx)(c.A,{children:"Client"}),(0,v.jsx)(o.A,{value:b.clientId,onChange:I("clientId"),label:"Client",children:a.map((e=>(0,v.jsx)(d.A,{value:e.id,children:e.companyName},e.id)))}),y.clientId&&(0,v.jsx)(r.A,{sx:{color:"error.main",fontSize:"0.75rem",mt:.5,ml:1.75},children:y.clientId})]}),(0,v.jsxs)(u.A,{fullWidth:!0,children:[(0,v.jsx)(c.A,{children:"Project Status"}),(0,v.jsx)(o.A,{value:b.status,onChange:I("status"),label:"Project Status",children:x.map((e=>(0,v.jsx)(d.A,{value:e.value,children:e.label},e.value)))})]}),(0,v.jsx)(s.A,{label:"Description",value:b.description,onChange:I("description"),multiline:!0,rows:3,fullWidth:!0}),(0,v.jsx)(p.A,{type:"submit",variant:"contained",size:"large",sx:{mt:2},children:"Create Project"})]})})}}}]);
//# sourceMappingURL=177.80d0b5aa.chunk.js.map